(function(l){function g(a){var c=h["$"+a]||window[a];if(!c)throw Error("Ender Error: Requested module '"+a+"' has not been defined.");return c}function c(a,c){return h["$"+a]=c}function f(a,c){var f,e;this.selector=a;typeof a=="undefined"?(f=[],this.selector=""):f=typeof a=="string"||a.nodeName||a.length&&"item"in a||a==window?m._select(a,c):isFinite(a.length)?a:[a];for(e=this.length=f.length;e--;)this[e]=f[e]}function m(a,c){return new f(a,c)}l.global=l;var h={},e=l.$,a=l.require,n=l.provide;l.provide=
c;l.require=g;f.prototype.forEach=function(a,c){var f,e;f=0;for(e=this.length;f<e;++f)f in this&&a.call(c||this[f],this[f],f,this);return this};f.prototype.$=m;m._VERSION="0.4.3-dev";m.fn=f.prototype;m.ender=function(a,c){var e=c?f.prototype:m,h;for(h in a)h!="noConflict"&&h!="_VERSION"&&(e[h]=a[h])};m._select=function(a,c){if(typeof a=="string")return(c||document).querySelectorAll(a);if(a.nodeName)return[a];return a};m.noConflict=function(f){l.$=e;if(f)l.provide=n,l.require=a,f(g,c,this);return this};
if(typeof module!=="undefined"&&module.exports)module.exports=m;l.ender=l.$=l.ender||m})(this);
(function(){var l={exports:{}};(function(g,c){typeof l!="undefined"?l.exports=c():typeof define=="function"&&typeof define.amd=="object"?define(c):this[g]=c()})("domready",function(g){function c(a){for(n=1;a=f.shift();)a()}var f=[],m,h=document,e=h.documentElement,a=e.doScroll,n=/^loade|c/.test(h.readyState);h.addEventListener&&h.addEventListener("DOMContentLoaded",m=function(){h.removeEventListener("DOMContentLoaded",m,!1);c()},!1);a&&h.attachEvent("onreadystatechange",m=function(){/^c/.test(h.readyState)&&
(h.detachEvent("onreadystatechange",m),c())});return g=a?function(a){self!=top?n?a():f.push(a):function(){try{e.doScroll("left")}catch(c){return setTimeout(function(){g(a)},50)}a()}()}:function(a){n?a():f.push(a)}});provide("domready",l.exports);(function(g){var c=require("domready");g.ender({domReady:c});g.ender({ready:function(f){c(f);return this}},!0)})(ender)})();
(function(){var l={exports:{}};(function(g,c,f){typeof l!="undefined"&&l.exports?l.exports=c():typeof f.define!="undefined"&&f.define=="function"&&f.define.amd?define(g,c):f[g]=c()})("qwery",function(){function g(){this.c={}}function c(b){return U.g(b)||U.s(b,"(^|\\s+)"+b+"(\\s+|$)",1)}function f(b,d){for(var j=0,i=b.length;j<i;j++)d(b[j])}function m(b){for(var d=[],j=0,i=b.length;j<i;++j)t(b[j])?d=d.concat(b[j]):d[d.length]=b[j];return d}function h(b){for(var d=0,j=b.length,i=[];d<j;d++)i[d]=b[d];
return i}function e(b){for(;b=b.previousSibling;)if(b[B]==1)break;return b}function a(b){return b.match(O)}function n(b,d,j,i,a,w,q,f,e,Q,k){var h,m,g;if(this[B]!==1)return!1;if(d&&d!=="*"&&this[r]&&this[r].toLowerCase()!==d)return!1;if(j&&(h=j.match(F))&&h[1]!==this.id)return!1;if(j&&(g=j.match(I)))for(b=g.length;b--;)if(!c(g[b].slice(1)).test(this.className))return!1;if(e&&v.pseudos[e]&&!v.pseudos[e](this,k))return!1;if(i&&!q)for(m in e=this.attributes,e)if(Object.prototype.hasOwnProperty.call(e,
m)&&(e[m].name||m)==a)return this;if(i&&!p(w,V(this,a)||"",q))return!1;return this}function o(d){return T.g(d)||T.s(d,d.replace(b,"\\$1"))}function p(b,d,j){switch(b){case "=":return d==j;case "^=":return d.match(M.g("^="+j)||M.s("^="+j,"^"+o(j),1));case "$=":return d.match(M.g("$="+j)||M.s("$="+j,o(j)+"$",1));case "*=":return d.match(M.g(j)||M.s(j,o(j),1));case "~=":return d.match(M.g("~="+j)||M.s("~="+j,"(?:^|\\s+)"+o(j)+"(?:\\s+|$)",1));case "|=":return d.match(M.g("|="+j)||M.s("|="+j,"^"+o(j)+
"(-|$)",1))}return 0}function l(b,d){var j=[],i=[],w,c,q,e,V,k=d,h=P.g(b)||P.s(b,b.split(N)),m=b.match(Q);if(!h.length)return j;c=(h=h.slice(0)).pop();if(h.length&&(w=h[h.length-1].match(J)))k=z(d,w[1]);if(!k)return j;e=a(c);q=k!==d&&k[B]!==9&&m&&/^[+~]$/.test(m[m.length-1])?function(b){for(;k=k.nextSibling;)k[B]==1&&(e[1]?e[1]==k[r].toLowerCase():1)&&(b[b.length]=k);return b}([]):k[H](e[1]||"*");w=0;for(c=q.length;w<c;w++)if(V=n.apply(q[w],e))j[j.length]=V;if(!h.length)return j;f(j,function(b){s(b,
h,m)&&(i[i.length]=b)});return i}function s(b,d,j,i){function w(b,i,q){for(;q=W[j[i]](q,b);)if(x(q)&&n.apply(q,a(d[i])))if(i){if(c=w(q,i-1,q))return c}else return q}var c;return(c=w(b,d.length-1,b))&&(!i||R(c,i))}function x(b,d){return b&&typeof b==="object"&&(d=b[B])&&(d==1||d==9)}function y(b){var d=[],j,i;j=0;a:for(;j<b.length;++j){for(i=0;i<d.length;++i)if(d[i]==b[j])continue a;d[d.length]=b[j]}return d}function t(b){return typeof b==="object"&&isFinite(b.length)}function E(b){if(!b)return G;
if(typeof b=="string")return v(b)[0];if(!b[B]&&t(b))return b[0];return b}function z(b,d,j){return b[B]===9?b.getElementById(d):b.ownerDocument&&((j=b.ownerDocument.getElementById(d))&&R(j,b)&&j||!R(b,b.ownerDocument)&&A('[id="'+d+'"]',b)[0])}function v(b,d){var i,a,w=E(d);if(!w||!b)return[];if(b===window||x(b))return!d||b!==window&&x(w)&&R(b,w)?[b]:[];if(b&&t(b))return m(b);if(i=b.match(j)){if(i[1])return(a=z(w,i[1]))?[a]:[];if(i[2])return h(w[H](i[2]));if(X&&i[3])return h(w[C](i[3]))}return A(b,
w)}function D(b,d){return function(j){var i,a;if(L.test(j)){if(b[B]!==9){if(!(a=i=b.getAttribute("id")))b.setAttribute("id",a="__qwerymeupscotty");d(b.parentNode||b,'[id="'+a+'"]'+j,!0);i||b.removeAttribute("id")}}else j.length&&d(b,j,!1)}}var G=document,k=G.documentElement,C="getElementsByClassName",H="getElementsByTagName",r="tagName",B="nodeType",A,F=/#([\w\-]+)/,I=/\.[\w\-]+/g,J=/^#([\w\-]+)$/,K=/^([\w]+)?\.([\w\-]+)$/,L=/(^|,)\s*[>~+]/,d=/^\s+|\s*([,\s\+\~>]|$)\s*/g,i=/[\s\>\+\~]/,q=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,
b=/([.*+?\^=!:${}()|\[\]\/\\])/g,j=RegExp(J.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),Q=RegExp("("+i.source+")"+q.source,"g"),N=RegExp(i.source+q.source),O=RegExp(/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),W={" ":function(b){return b&&b!==k&&b.parentNode},">":function(b,d){return b&&b.parentNode==d.parentNode&&b.parentNode},
"~":function(b){return b&&b.previousSibling},"+":function(b,d,j,i){if(!b)return!1;return(j=e(b))&&(i=e(d))&&j==i&&j}};g.prototype={g:function(b){return this.c[b]||void 0},s:function(b,d,j){return this.c[b]=j?RegExp(d):d}};var U=new g,T=new g,M=new g,P=new g,R="compareDocumentPosition"in k?function(b,d){return(d.compareDocumentPosition(b)&16)==16}:"contains"in k?function(b,d){d=d[B]===9||d==window?k:d;return d!==b&&d.contains(b)}:function(b,d){for(;b=b.parentNode;)if(b===d)return 1;return 0},V=function(){var b=
G.createElement("p");return(b.innerHTML='<a href="#x">x</a>')&&b.firstChild.getAttribute("href")!="#x"?function(b,d){return d==="class"?b.className:d==="href"||d==="src"?b.getAttribute(d,2):b.getAttribute(d)}:function(b,d){return b.getAttribute(d)}}(),X=!!G[C],Y=G.querySelector&&G.querySelectorAll,S=function(b,d){var j=[],i,a;try{if(d[B]===9||!L.test(b))return h(d.querySelectorAll(b));f(i=b.split(","),D(d,function(b,d){a=b.querySelectorAll(d);a.length==1?j[j.length]=a.item(0):a.length&&(j=j.concat(h(a)))}));
return i.length>1&&j.length>1?y(j):j}catch(q){}return w(b,d)},w=function(b,j){var i=[],a,w,q,e,b=b.replace(d,"$1");if(a=b.match(K)){e=c(a[2]);a=j[H](a[1]||"*");w=0;for(q=a.length;w<q;w++)e.test(a[w].className)&&(i[i.length]=a[w]);return i}f(a=b.split(","),D(j,function(b,d,a){e=l(d,b);w=0;for(q=e.length;w<q;w++)if(b[B]===9||a||R(e[w],j))i[i.length]=e[w]}));return a.length>1&&i.length>1?y(i):i},i=function(b){typeof b.useNativeQSA!=="undefined"&&(A=!b.useNativeQSA?w:Y?S:w)};i({useNativeQSA:!0});v.configure=
i;v.uniq=y;v.is=function(b,d,j){if(x(d))return b==d;if(t(d))return!!~m(d).indexOf(b);for(var i=d.split(","),w;d=i.pop();)if(w=P.g(d)||P.s(d,d.split(N)),d=d.match(Q),w=w.slice(0),n.apply(b,a(w.pop()))&&(!w.length||s(b,w,d,j)))return!0;return!1};v.pseudos={};return v},this);provide("qwery",l.exports);(function(g){var c=require("qwery");g.pseudos=c.pseudos;g._select=function(f,m){return(g._select=function(f){try{return f=require("bonzo"),function(a,e){return/^\s*</.test(a)?f.create(a,e):c(a,e)}}catch(e){}return c}())(f,
m)};g.ender({find:function(f){var m=[],h,e,a,n,o;h=0;for(e=this.length;h<e;h++){o=c(f,this[h]);a=0;for(n=o.length;a<n;a++)m.push(o[a])}return g(c.uniq(m))},and:function(c){for(var c=g(c),m=this.length,h=0,e=this.length+c.length;m<e;m++,h++)this[m]=c[h];return this},is:function(f,m){var h,e;h=0;for(e=this.length;h<e;h++)if(c.is(this[h],f,m))return!0;return!1}},!0)})(ender)})();
(function(){var l={exports:{}};(function(g,c,f){typeof l!="undefined"&&l.exports?l.exports=c():typeof f.define!="undefined"&&f.define=="function"&&f.define.amd?define(g,c):f[g]=c()})("bonzo",function(){function g(b,d,j){for(var i=0,a=b.length;i<a;i++)d.call(j||b[i],b[i],i,b);return b}function c(b,d,j){for(var i=0,a=b.length;i<a;i++)b[i]&&b[i].nodeName&&b[i].nodeType==1&&(c(b[i].childNodes,d,j),d.call(j||b[i],b[i],i,b));return b}function f(b){return b.replace(/-(.)/g,function(b,d){return d.toUpperCase()})}
function m(b){b[N]("data-node-uid")||b[Q]("data-node-uid",++q);b=b[N]("data-node-uid");return i[b]||(i[b]={})}function h(b){(b=b[N]("data-node-uid"))&&delete i[b]}function e(b,d){try{return b===null||b===void 0?void 0:b==="true"?!0:b==="false"?!1:b==="null"?null:(d=parseFloat(b))==b?d:b}catch(j){}}function a(b,d,j,i,a){i=0;for(a=b.length;i<a;++i)if(d.call(j,b[i],i,b))return!0;return!1}function n(b){b=="transform"&&(b=O.transform)||/^transform-?[Oo]rigin$/.test(b)&&(b=O.transform+"Origin")||b=="float"&&
(b=O.cssFloat);return b?f(b):null}function o(b,d,j){var i=0,a=d||this,q=[],b=G&&typeof b=="string"&&b.charAt(0)!="<"?G(b):b;g(s(b),function(b){g(a,function(d){var c=!d[D]||d[D]&&!d[D][D]?function(){var b=d.cloneNode(!0),j,i;if(a.$&&a.cloneEvents){a.$(b).cloneEvents(d);j=a.$(b).find("*");i=a.$(d).find("*");for(var q=0;q<i.length;q++)a.$(j[q]).cloneEvents(i[q])}return b}():d;j(b,c);q[i]=c;i++})},this);g(q,function(b,d){a[d]=b});a.length=i;return a}function p(b,d){return typeof d=="function"?d(b):d}
function l(b){this.length=0;if(b){b=typeof b!=="string"&&!b.nodeType&&typeof b.length!=="undefined"?b:[b];this.length=b.length;for(var d=0;d<b.length;d++)this[d]=b[d]}}function s(b){return typeof b=="string"?t.create(b):b&&b.nodeName&&b.nodeType==1?[b]:b}function x(b,d,j){var i=this[0];if(!i)return this;if(b==null&&d==null)return(y(i)?{x:E.pageXOffset||v.scrollLeft,y:E.pageYOffset||v.scrollTop}:{x:i.scrollLeft,y:i.scrollTop})[j];y(i)?E.scrollTo(b,d):(b!=null&&(i.scrollLeft=b),d!=null&&(i.scrollTop=
d));return this}function y(b){return b===E||/^(?:body|html)$/i.test(b.tagName)}function t(b,d){return new l(b,d)}var E=window,z=E.document,v=z.documentElement,D="parentNode",G=null,k=/^(checked|value|selected)$/i,C=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,H=["<table>","</table>",1],r=["<table><tbody><tr>","</tr></tbody></table>",3],B=["<select>","</select>",1],A=["_","",0,1],F={thead:H,tbody:H,tfoot:H,colgroup:H,caption:H,tr:["<table><tbody>","</tbody></table>",2],th:r,td:r,col:["<table><colgroup>",
"</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:B,optgroup:B,script:A,style:A,link:A,param:A,base:A},I=/^(checked|selected)$/,J=/msie/i.test(navigator.userAgent),K,L,d,i={},q=0,b=/^-?[\d\.]+$/,j=/^data-(.+)$/,Q="setAttribute",N="getAttribute",O=function(){var b=z.createElement("p");b.innerHTML='<a href="#x">x</a><table style="float:left;"></table>';return{hrefExtended:b.getElementsByTagName("a")[0][N]("href")!="#x",autoTbody:b.getElementsByTagName("tbody").length!==
0,computedStyle:z.defaultView&&z.defaultView.getComputedStyle,cssFloat:b.getElementsByTagName("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var d=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],j;for(j=0;j<d.length;j++)if(d[j]in b.style)return d[j]}(),classList:"classList"in b}}(),W=/(^\s*|\s*$)/g,U=/\s+/,T=String.prototype.toString,M={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},P=String.prototype.trim?function(b){return b.trim()}:
function(b){return b.replace(W,"")},R=O.computedStyle?function(b,d){var j=null,i=z.defaultView.getComputedStyle(b,"");i&&(j=i[d]);return b.style[d]||j}:J&&v.currentStyle?function(b,d){if(d=="opacity"){var j=100;try{j=b.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{j=b.filters("alpha").opacity}catch(a){}}return j/100}j=b.currentStyle?b.currentStyle[d]:null;return b.style[d]||j}:function(b,d){return b.style[d]};O.classList?(K=function(b,d){return b.classList.contains(d)},L=function(b,
d){b.classList.add(d)},d=function(b,d){b.classList.remove(d)}):(K=function(b,d){return RegExp("(^|\\s+)"+d+"(\\s+|$)").test(b.className)},L=function(b,d){b.className=P(b.className+" "+d)},d=function(b,d){b.className=P(b.className.replace(RegExp("(^|\\s+)"+d+"(\\s+|$)")," "))});l.prototype={get:function(b){return this[b]||null},each:function(b,d){return g(this,b,d)},deepEach:function(b,d){return c(this,b,d)},map:function(b,d){var j=[],i,a;for(a=0;a<this.length;a++)i=b.call(this,this[a],a),d?d(i)&&
j.push(i):j.push(i);return j},html:function(b,d){function j(d){g(s(b),function(b){d.appendChild(b)})}var i=d?v.textContent===void 0?"innerText":"textContent":"innerHTML";return typeof b!=="undefined"?this.empty().each(function(a){if(!d&&C.test(a.tagName))j(a);else try{a[i]=b}catch(q){j(a)}}):this[0]?this[0][i]:""},text:function(b){return this.html(b,1)},append:function(b){return this.each(function(d){g(s(b),function(b){d.appendChild(b)})})},prepend:function(b){return this.each(function(d){var j=d.firstChild;
g(s(b),function(b){d.insertBefore(b,j)})})},appendTo:function(b,d){return o.call(this,b,d,function(b,d){b.appendChild(d)})},prependTo:function(b,d){return o.call(this,b,d,function(b,d){b.insertBefore(d,b.firstChild)})},before:function(b){return this.each(function(d){g(t.create(b),function(b){d[D].insertBefore(b,d)})})},after:function(b){return this.each(function(d){g(t.create(b),function(b){d[D].insertBefore(b,d.nextSibling)})})},insertBefore:function(b,d){return o.call(this,b,d,function(b,d){b[D].insertBefore(d,
b)})},insertAfter:function(b,d){return o.call(this,b,d,function(b,d){var j=b.nextSibling;j?b[D].insertBefore(d,j):b[D].appendChild(d)})},replaceWith:function(b){this.deepEach(h);return this.each(function(d){d.parentNode.replaceChild(t.create(b)[0],d)})},addClass:function(b){b=T.call(b).split(U);return this.each(function(d){g(b,function(b){b&&!K(d,p(d,b))&&L(d,p(d,b))})})},removeClass:function(b){b=T.call(b).split(U);return this.each(function(j){g(b,function(b){b&&K(j,p(j,b))&&d(j,p(j,b))})})},hasClass:function(b){b=
T.call(b).split(U);return a(this,function(d){return a(b,function(b){return b&&K(d,b)})})},toggleClass:function(b,j){b=T.call(b).split(U);return this.each(function(i){g(b,function(b){b&&(typeof j!=="undefined"?j?L(i,b):d(i,b):K(i,b)?d(i,b):L(i,b))})})},show:function(b){return this.each(function(d){d.style.display=b||""})},hide:function(){return this.each(function(b){b.style.display="none"})},toggle:function(b,d){this.each(function(b){b.style.display=b.offsetWidth||b.offsetHeight?"none":d||""});b&&
b();return this},first:function(){return t(this.length?this[0]:[])},last:function(){return t(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(D)},related:function(b){return this.map(function(d){for(d=d[b];d&&d.nodeType!==1;)d=d[b];return d||0},function(b){return b})},focus:function(){this.length&&this[0].focus();return this},blur:function(){return this.each(function(b){b.blur()})},
css:function(d,j,i){if(j===void 0&&typeof d=="string"){j=this[0];if(!j)return null;if(j===z||j===E)return i=j===z?t.doc():t.viewport(),d=="width"?i.width:d=="height"?i.height:"";return(d=n(d))?R(j,d):null}var a=d;typeof d=="string"&&(a={},a[d]=j);if(J&&a.opacity)a.filter="alpha(opacity="+a.opacity*100+")",a.zoom=d.zoom||1,delete a.opacity;return this.each(function(d,j,i){for(var q in a)a.hasOwnProperty(q)&&(i=a[q],(j=n(q))&&b.test(i)&&!(j in M)&&(i+="px"),d.style[j]=p(d,i))})},offset:function(b,d){if(typeof b==
"number"||typeof d=="number")return this.each(function(j){var i=t(j),a=i.css("position"),q=i.offset(),c=a=="relative",w=[parseInt(i.css("left"),10),parseInt(i.css("top"),10)];a=="static"&&i.css("position","relative");isNaN(w[0])&&(w[0]=c?0:j.offsetLeft);isNaN(w[1])&&(w[1]=c?0:j.offsetTop);b!=null&&(j.style.left=b-q.left+w[0]+"px");d!=null&&(j.style.top=d-q.top+w[1]+"px")});if(!this[0])return{top:0,left:0,height:0,width:0};for(var j=this[0],i=j.offsetWidth,a=j.offsetHeight,q=j.offsetTop,c=j.offsetLeft;j=
j.offsetParent;)q+=j.offsetTop,c+=j.offsetLeft,j!=document.body&&(q-=j.scrollTop,c-=j.scrollLeft);return{top:q,left:c,height:a,width:i}},dim:function(){if(!this.length)return{height:0,width:0};var b=this[0],d=!b.offsetWidth&&!b.offsetHeight?function(d,j){j={position:b.style.position||"",visibility:b.style.visibility||"",display:b.style.display||""};d.first().css({position:"absolute",visibility:"hidden",display:"block"});return j}(this):null,j=b.offsetWidth,i=b.offsetHeight;d&&this.first().css(d);
return{height:i,width:j}},attr:function(b,d){var j=this[0];if(typeof b!="string"&&!(b instanceof String)){for(var i in b)b.hasOwnProperty(i)&&this.attr(i,b[i]);return this}return typeof d=="undefined"?!j?null:k.test(b)?I.test(b)&&typeof j[b]=="string"?!0:j[b]:(b=="href"||b=="src")&&O.hrefExtended?j[N](b,2):j[N](b):this.each(function(j){k.test(b)?j[b]=p(j,d):j[Q](b,p(j,d))})},removeAttr:function(b){return this.each(function(d){I.test(b)?d[b]=!1:d.removeAttribute(b)})},val:function(b){return typeof b==
"string"?this.attr("value",b):this.length?this[0].value:null},data:function(b,d){var i=this[0],a,q;if(typeof d==="undefined"){if(!i)return null;a=m(i);return typeof b==="undefined"?(g(i.attributes,function(b){(q=(""+b.name).match(j))&&(a[f(q[1])]=e(b.value))}),a):(typeof a[b]==="undefined"&&(a[b]=e(this.attr("data-"+(b?b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():b)))),a[b])}else return this.each(function(j){m(j)[b]=d})},remove:function(){this.deepEach(h);return this.each(function(b){b[D]&&
b[D].removeChild(b)})},empty:function(){return this.each(function(b){for(c(b.childNodes,h);b.firstChild;)b.removeChild(b.firstChild)})},detach:function(){return this.map(function(b){return b[D].removeChild(b)})},scrollTop:function(b){return x.call(this,null,b,"y")},scrollLeft:function(b){return x.call(this,b,null,"x")}};t.setQueryEngine=function(b){G=b;delete t.setQueryEngine};t.aug=function(b,d){for(var j in b)b.hasOwnProperty(j)&&((d||l.prototype)[j]=b[j])};t.create=function(b){return typeof b==
"string"&&b!==""?function(){var d=/^\s*<([^\s>]+)/.exec(b),j=z.createElement("div"),i=[],a=d?F[d[1].toLowerCase()]:null,q=a?a[2]+1:1,c=a&&a[3],e=D,f=O.autoTbody&&a&&a[0]=="<table>"&&!/<tbody/i.test(b);for(j.innerHTML=a?a[0]+b+a[1]:b;q--;)j=j.firstChild;if(c&&j&&j.nodeType!==1)j=j.nextSibling;do(!d||j.nodeType==1)&&(!f||j.tagName.toLowerCase()!="tbody")&&i.push(j);while(j=j.nextSibling);g(i,function(b){b[e]&&b[e].removeChild(b)});return i}():b&&b.nodeName&&b.nodeType==1?[b.cloneNode(!0)]:[]};t.doc=
function(){var b=t.viewport();return{width:Math.max(z.body.scrollWidth,v.scrollWidth,b.width),height:Math.max(z.body.scrollHeight,v.scrollHeight,b.height)}};t.firstChild=function(b){for(var b=b.childNodes,d=0,j=b&&b.length||0,i;d<j;d++)b[d].nodeType===1&&(i=b[j=d]);return i};t.viewport=function(){return{width:J?v.clientWidth:self.innerWidth,height:J?v.clientHeight:self.innerHeight}};t.isAncestor="compareDocumentPosition"in v?function(b,d){return(b.compareDocumentPosition(d)&16)==16}:"contains"in v?
function(b,d){return b!==d&&b.contains(d)}:function(b,d){for(;d=d[D];)if(d===b)return!0;return!1};return t},this);provide("bonzo",l.exports);(function(g){function c(c){for(var f=[],e=0,a=0,g,o,l;o=c[e];++e){l=!1;for(g=0;g<f.length;++g)if(f[g]===o){l=!0;break}l||(f[a++]=o)}return f}var f=require("bonzo");f.setQueryEngine(g);g.ender(f);g.ender(f(),!0);g.ender({create:function(c){return g(f.create(c))}});g.id=function(c){return g([document.getElementById(c)])};g.ender({parents:function(f,h){if(!this.length)return this;
var e=g(f),a,n,o,l=[];a=0;for(n=this.length;a<n;a++)for(o=this[a];o=o.parentNode;){var u;a:{for(u=0;u<e.length;u++)if(e[u]===o)break a;u=-1}if(~u&&(l.push(o),h))break}return g(c(l))},parent:function(){return g(c(f(this).parent()))},closest:function(c){return this.parents(c,!0)},first:function(){return g(this.length?this[0]:this)},last:function(){return g(this.length?this[this.length-1]:[])},next:function(){return g(f(this).next())},previous:function(){return g(f(this).previous())},appendTo:function(c){return f(this.selector).appendTo(c,
this)},prependTo:function(c){return f(this.selector).prependTo(c,this)},insertAfter:function(c){return f(this.selector).insertAfter(c,this)},insertBefore:function(c){return f(this.selector).insertBefore(c,this)},siblings:function(){var c,f,e,a=[];c=0;for(f=this.length;c<f;c++){for(e=this[c];e=e.previousSibling;)e.nodeType==1&&a.push(e);for(e=this[c];e=e.nextSibling;)e.nodeType==1&&a.push(e)}return g(a)},children:function(){var m,h,e,a=[];m=0;for(h=this.length;m<h;m++)if(e=f.firstChild(this[m]))for(a.push(e);e=
e.nextSibling;)e.nodeType==1&&a.push(e);return g(c(a))},height:function(c){return typeof c=="undefined"?f(this).dim().height:this.css("height",c)},width:function(c){return typeof c=="undefined"?f(this).dim().width:this.css("width",c)}},!0)})(ender)})();
(function(){var l={exports:{}};(function(g,c){typeof l!="undefined"&&l.exports?l.exports=c():typeof define=="function"&&define.amd?define(c):this[g]=c()})("reqwest",function(){function g(a,c,e){return function(){if(a&&a[v]==4)a.onreadystatechange=B,E.test(a.status)?c(a):e(a)}}function c(a){r=a}function f(a,e,f,d){var e=C++,f=a.jsonpCallback||"callback",i=a.jsonpCallbackName||n.getcallbackPrefix(e),q=RegExp("((^|\\?|&)"+f+")=([^&]+)"),b=d.match(q),j=t.createElement("script"),Q=0,h=navigator.userAgent.indexOf("MSIE 10.0")!==
-1;b?b[3]==="?"?d=d.replace(q,"$1="+i):i=b[3]:d=d+(/\?/.test(d)?"&":"?")+(f+"="+i);y[i]=c;j.type="text/javascript";j.src=d;j.async=!0;if(typeof j.onreadystatechange!=="undefined"&&!h)j.event="onclick",j.htmlFor=j.id="_reqwest_"+e;j.onload=j.onreadystatechange=function(){if(j[v]&&j[v]!=="complete"&&j[v]!=="loaded"||Q)return!1;j.onload=j.onreadystatechange=null;j.onclick&&j.onclick();a.success&&a.success(r);r=void 0;k.removeChild(j);Q=1};k.appendChild(j)}function m(a,c,e){var d=(a.method||"GET").toUpperCase(),
i=typeof a==="string"?a:a.url,q=a.processData!==!1&&a.data&&typeof a.data!=="string"?n.toQueryString(a.data):a.data||null,b;if((a.type=="jsonp"||d=="GET")&&q)i=i+(/\?/.test(i)?"&":"?")+q,q=null;if(a.type=="jsonp")return f(a,c,e,i);b=I();b.open(d,i,!0);var d=a.headers||{},j;d.Accept=d.Accept||F.accept[a.type]||F.accept["*"];if(!a.crossOrigin&&!d[G])d[G]=F.requestedWith;d[D]||(d[D]=a.contentType||F.contentType);for(j in d)d.hasOwnProperty(j)&&b.setRequestHeader(j,d[j]);if(typeof a.withCredentials!==
"undefined"&&typeof b.withCredentials!=="undefined")b.withCredentials=!!a.withCredentials;b.onreadystatechange=g(b,c,e);a.before&&a.before(b);b.send(q);return b}function h(c,e){this.o=c;this.fn=e;a.apply(this,arguments)}function e(a){return(a=a.match(/\.(json|jsonp|html|xml)(\?|$)/))?a[1]:"js"}function a(a,c){function f(b){a.timeout&&clearTimeout(i.timeout);for(i.timeout=null;i._completeHandlers.length>0;)i._completeHandlers.shift()(b)}function d(b,d,a){i._responseArgs.resp=b;i._responseArgs.msg=
d;i._responseArgs.t=a;for(i._erred=!0;i._errorHandlers.length>0;)i._errorHandlers.shift()(b,d,a);f(b)}this.url=typeof a=="string"?a:a.url;this.timeout=null;this._fulfilled=!1;this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=!1;this._responseArgs={};var i=this,q=a.type||e(this.url),c=c||function(){};if(a.timeout)this.timeout=setTimeout(function(){i.abort()},a.timeout);a.success&&this._fulfillmentHandlers.push(function(){a.success.apply(a,arguments)});a.error&&
this._errorHandlers.push(function(){a.error.apply(a,arguments)});a.complete&&this._completeHandlers.push(function(){a.complete.apply(a,arguments)});this.request=m(a,function(b){var j=b.responseText;if(j)switch(q){case "json":try{b=y.JSON?y.JSON.parse(j):eval("("+j+")")}catch(a){return d(b,"Could not parse JSON in response",a)}break;case "js":b=eval(j);break;case "html":b=j;break;case "xml":b=b.responseXML}i._responseArgs.resp=b;i._fulfilled=!0;for(c(b);i._fulfillmentHandlers.length>0;)i._fulfillmentHandlers.shift()(b);
f(b)},d)}function n(a,c){return new h(a,c)}function o(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function l(a,c){var e=a.name,d=a.tagName.toLowerCase(),i=function(b){b&&!b.disabled&&c(e,o(b.attributes.value&&b.attributes.value.specified?b.value:b.text))};if(!a.disabled&&e)switch(d){case "input":if(!/reset|button|image|file/i.test(a.type)){var i=/checkbox/i.test(a.type),d=/radio/i.test(a.type),q=a.value;(!i&&!d||a.checked)&&c(e,o(i&&q===""?"on":q))}break;case "textarea":c(e,o(a.value));break;case "select":if(a.type.toLowerCase()===
"select-one")i(a.selectedIndex>=0?a.options[a.selectedIndex]:null);else for(d=0;a.length&&d<a.length;d++)a.options[d].selected&&i(a.options[d])}}function u(){var a=this,c,e,d,i=function(i,b){for(var j=0;j<b.length;j++){var c=i[z](b[j]);for(d=0;d<c.length;d++)l(c[d],a)}};for(e=0;e<arguments.length;e++)c=arguments[e],/input|select|textarea/i.test(c.tagName)&&l(c,a),i(c,["input","select","textarea"])}function s(){return n.toQueryString(n.serializeArray.apply(null,arguments))}function x(){var a={};u.apply(function(c,
e){c in a?(a[c]&&!A(a[c])&&(a[c]=[a[c]]),a[c].push(e)):a[c]=e},arguments);return a}var y=window,t=document,E=/^20\d$/,z="getElementsByTagName",v="readyState",D="Content-Type",G="X-Requested-With",k=t[z]("head")[0],C=0,H="reqwest_"+ +new Date,r,B=function(){},A=typeof Array.isArray=="function"?Array.isArray:function(a){return a instanceof Array},F={contentType:"application/x-www-form-urlencoded",requestedWith:"XMLHttpRequest",accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",
xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},I=y.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};h.prototype={abort:function(){this.request.abort()},retry:function(){a.call(this,this.o,this.fn)},then:function(a,c){this._fulfilled?a(this._responseArgs.resp):this._erred?c(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):
(this._fulfillmentHandlers.push(a),this._errorHandlers.push(c));return this},always:function(a){this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a);return this},fail:function(a){this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a);return this}};n.serializeArray=function(){var a=[];u.apply(function(c,e){a.push({name:c,value:e})},arguments);return a};n.serialize=function(){if(arguments.length===0)return"";var a,
c=Array.prototype.slice.call(arguments,0);(a=c.pop())&&a.nodeType&&c.push(a)&&(a=null);a&&(a=a.type);return(a=="map"?x:a=="array"?n.serializeArray:s).apply(null,c)};n.toQueryString=function(a){var c="",e,d=encodeURIComponent,i=function(b,a){c+=d(b)+"="+d(a)+"&"};if(A(a))for(e=0;a&&e<a.length;e++)i(a[e].name,a[e].value);else for(var q in a)if(Object.hasOwnProperty.call(a,q)){var b=a[q];if(A(b))for(e=0;e<b.length;e++)i(q,b[e]);else i(q,a[q])}return c.replace(/&$/,"").replace(/%20/g,"+")};n.getcallbackPrefix=
function(){return H};n.compat=function(a,c){if(a)a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp);return new h(a,c)};return n});provide("reqwest",l.exports);(function(g){var c=require("reqwest"),f=function(f){return function(){var e=(this&&this.length>0?this:[]).concat(Array.prototype.slice.call(arguments,0));return c[f].apply(null,e)}},m=f("serialize"),f=f("serializeArray");
g.ender({ajax:c,serialize:m,serializeArray:f,toQueryString:c.toQueryString});g.ender({serialize:m,serializeArray:f},!0)})(ender)})();
(function(){var l={exports:{}};(function(g,c,f){typeof l!="undefined"&&l.exports?l.exports=f():typeof define=="function"&&define.amd?define(f):c[g]=f()})("bean",this,function(g,c){var g=g||"bean",c=c||this,f=window,m=c[g],h=/[^\.]*(?=\..*)\.|.*/,e=/\..*/,a=document||{},n=a.documentElement||{},o=n.addEventListener,l=o?"addEventListener":"attachEvent",u={},s=Array.prototype.slice,x=function(a,d){return a.split(d||" ")},y=function(a,d,i){for(i=0;i<d.length;i++)d[i]&&(a[d[i]]=1);return a}({},x("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+
(o?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":
""))),t=function(){var a="compareDocumentPosition"in n?function(d,a){return a.compareDocumentPosition&&(a.compareDocumentPosition(d)&16)===16}:"contains"in n?function(d,a){a=a.nodeType===9||a===window?n:a;return a!==d&&a.contains(d)}:function(d,a){for(;d=d.parentNode;)if(d===a)return 1;return 0},d=function(d){d=d.relatedTarget;return!d?d==null:d!==this&&d.prefix!=="xul"&&!/document/.test(this.toString())&&!a(d,this)};return{mouseenter:{base:"mouseover",condition:d},mouseleave:{base:"mouseout",condition:d},
mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),E=function(){var c=x("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),d=c.concat(x("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),i=d.concat(x("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),
e=c.concat(x("char charCode key keyCode keyIdentifier keyLocation location")),b=c.concat(x("data")),j=c.concat(x("touches targetTouches changedTouches scale rotation")),k=c.concat(x("data origin source")),h=c.concat(x("state")),g=/over|out/,o=[{reg:/key/i,fix:function(b,d){d.keyCode=b.keyCode||b.which;return e}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(b,j,i){j.rightClick=b.which===3||b.button===2;j.pos={x:0,y:0};if(b.pageX||b.pageY)j.clientX=b.pageX,j.clientY=b.pageY;else if(b.clientX||
b.clientY)j.clientX=b.clientX+a.body.scrollLeft+n.scrollLeft,j.clientY=b.clientY+a.body.scrollTop+n.scrollTop;if(g.test(i))j.relatedTarget=b.relatedTarget||b[(i=="mouseover"?"from":"to")+"Element"];return d}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return i}},{reg:/^text/i,fix:function(){return b}},{reg:/^touch|^gesture/i,fix:function(){return j}},{reg:/^message$/i,fix:function(){return k}},{reg:/^popstate$/i,fix:function(){return h}},{reg:/.*/,fix:function(){return c}}],m={},l=function(b,d,
j){if(arguments.length&&(this.originalEvent=b=b||((d.ownerDocument||d.document||d).parentWindow||f).event,this.isNative=j,this.isBean=!0,b)){var a=b.type,i=b.target||b.srcElement,c,e,q;this.target=i&&i.nodeType===3?i.parentNode:i;if(j){q=m[a];if(!q){i=0;for(c=o.length;i<c;i++)if(o[i].reg.test(a)){m[a]=q=o[i].fix;break}}a=q(b,this,a);for(i=a.length;i--;)if(!((e=a[i])in this)&&e in b)this[e]=b[e]}}};l.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():
this.originalEvent.returnValue=!1};l.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0};l.prototype.stop=function(){this.preventDefault();this.stopPropagation();this.stopped=!0};l.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation();this.isImmediatePropagationStopped=function(){return!0}};l.prototype.isImmediatePropagationStopped=
function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()};l.prototype.clone=function(b){var d=new l(this,this.element,this.isNative);d.currentTarget=b;return d};return l}(),z=function(){var c=function(d,a,b,j){var c=b?function(c){var e=a.__beanDel?a.__beanDel.ft(c.target,d):this;if(b.apply(e,arguments)){if(c)c.currentTarget=e;return a.apply(d,j?s.call(arguments,c?0:1).concat(j):arguments)}}:function(b){a.__beanDel&&(b=b.clone(a.__beanDel?
a.__beanDel.ft(b.target,d):void 0));return a.apply(d,j?s.call(arguments,b?0:1).concat(j):arguments)};c.__beanDel=a.__beanDel;return c},d=function(d,e,b,j,k,h,g){var m=t[e];e=="unload"&&(b=H(r,d,e,b,j));m&&(m.condition&&(b=c(d,b,m.condition,h)),e=m.base||e);this.isNative=m=y[e]&&!!d[l];this.customType=!o&&!m&&e;this.element=d;this.type=e;this.original=j;this.namespaces=k;this.eventType=o||m?e:"propertychange";this.target=!o&&!m&&(d===a||d===f)?n:d;this[l]=!!this.target[l];this.root=g;this.handler=
c(d,b,null,h)};d.prototype.inNamespaces=function(d){var a,b,j=0;if(!d)return!0;if(!this.namespaces)return!1;for(a=d.length;a--;)for(b=this.namespaces.length;b--;)d[a]==this.namespaces[b]&&j++;return d.length===j};d.prototype.matches=function(d,a,b){return this.element===d&&(!a||this.original===a)&&(!b||this.handler===b)};return d}(),v=function(){var a={},d=function(i,c,b,j,e,f){var k=e?"r":"$";if(!c||c=="*")for(var h in a)h.charAt(0)==k&&d(i,h.substr(1),b,j,e,f);else{e=0;h=a[k+c];var g=i=="*";if(h)for(k=
h.length;e<k;e++)if((g||h[e].matches(i,b,j))&&!f(h[e],h,e,c))break}};return{has:function(d,c,b,j){if(j=a[(j?"r":"$")+c])for(c=j.length;c--;)if(!j[c].root&&j[c].matches(d,b,null))return!0;return!1},get:function(a,c,b,j){var e=[];d(a,c,b,null,j,function(b){return e.push(b)});return e},put:function(d){var c=!d.root&&!this.has(d.element,d.type,null,!1),b=(d.root?"r":"$")+d.type;(a[b]||(a[b]=[])).push(d);return c},del:function(i){d(i.element,i.type,null,i.handler,i.root,function(d,b,j){b.splice(j,1);d.removed=
!0;b.length===0&&delete a[(d.root?"r":"$")+d.type];return!1})},entries:function(){var d,c=[];for(d in a)d.charAt(0)=="$"&&(c=c.concat(a[d]));return c}}}(),D,G=function(c){D=arguments.length?c:a.querySelectorAll?function(d,a){return a.querySelectorAll(d)}:function(){throw Error("Bean: No selector engine installed");}},k=function(a,d){if(o||!d||!(a&&a.propertyName!="_on"+d)){var i=v.get(this,d||a.type,null,!1),c=i.length,b=0,a=new E(a,this,!0);if(d)a.type=d;for(;b<c&&!a.isImmediatePropagationStopped();b++)i[b].removed||
i[b].handler.call(this,a)}},C=o?function(a,d,i){a[i?"addEventListener":"removeEventListener"](d,k,!1)}:function(a,d,i,c){if(i)v.put(d=new z(a,c||d,function(b){k.call(a,b,c)},k,null,null,!0)),c&&a["_on"+c]==null&&(a["_on"+c]=0),d.target.attachEvent("on"+d.eventType,d.handler);else if(d=v.get(a,c||d,k,!0)[0])d.target.detachEvent("on"+d.eventType,d.handler),v.del(d)},H=function(a,d,i,c,b){return function(){c.apply(this,arguments);a(d,i,b)}},r=function(a,d,i,c){var d=d&&d.replace(e,""),d=v.get(a,d,null,
!1),b={},j,f;j=0;for(f=d.length;j<f;j++)if((!i||d[j].original===i)&&d[j].inNamespaces(c))v.del(d[j]),!b[d[j].eventType]&&d[j][l]&&(b[d[j].eventType]={t:d[j].eventType,c:d[j].type});for(j in b)v.has(a,b[j].t,null,!1)||C(a,b[j].t,!1,b[j].c)},B=function(a,d){var i=function(b,d){for(var i,c=typeof a=="string"?D(a,d):a;b&&b!==d;b=b.parentNode)for(i=c.length;i--;)if(c[i]===b)return b},c=function(b){var a=i(b.target,this);a&&d.apply(a,arguments)};c.__beanDel={ft:i,selector:a};return c},A=o?function(c,d,
i){var e=a.createEvent(c?"HTMLEvents":"UIEvents");e[c?"initEvent":"initUIEvent"](d,!0,!0,f,1);i.dispatchEvent(e)}:function(c,d,i){i=!o&&!c&&(i===a||i===f)?n:i;c?i.fireEvent("on"+d,a.createEventObject()):i["_on"+d]++},F=function(a,d,i){var c=typeof d=="string",b,j;if(c&&d.indexOf(" ")>0){d=x(d);for(j=d.length;j--;)F(a,d[j],i);return a}if((j=c&&d.replace(e,""))&&t[j])j=t[j].base;if(!d||c){if(d=c&&d.replace(h,""))d=x(d,".");r(a,j,i,d)}else if(typeof d=="function")r(a,null,d);else for(b in d)d.hasOwnProperty(b)&&
F(a,b,d[b]);return a},I=function(a,d,i,c){var b,j,f,k,g,m;if(i===void 0&&typeof d=="object")for(b in d)d.hasOwnProperty(b)&&I.call(this,a,b,d[b]);else{typeof i=="function"?(k=s.call(arguments,3),c=b=i):(b=c,k=s.call(arguments,4),c=B(i,b,D));j=x(d);this===u&&(c=H(F,a,d,c,b));for(f=j.length;f--;)m=v.put(g=new z(a,j[f].replace(e,""),c,b,x(j[f].replace(h,""),"."),k,!1)),g[l]&&m&&C(a,g.eventType,!0,g.customType);return a}},J={on:I,add:function(a,d,i,c){return I.apply(null,typeof i!="string"?s.call(arguments):
[a,i,d,c].concat(arguments.length>3?s.call(arguments,5):[]))},one:function(){return I.apply(u,arguments)},off:F,remove:F,clone:function(a,d,i){for(var d=v.get(d,i,null,!1),i=d.length,c=0,b,j;c<i;c++)if(d[c].original)b=[a,d[c].type],(j=d[c].handler.__beanDel)&&b.push(j.selector),b.push(d[c].original),I.apply(null,b);return a},fire:function(a,d,i){var c=x(d),b,j,f,k;for(b=c.length;b--;){d=c[b].replace(e,"");if(f=c[b].replace(h,""))f=x(f,".");if(!f&&!i&&a[l])A(y[d],d,a);else{k=v.get(a,d,null,!1);i=[!1].concat(i);
d=0;for(j=k.length;d<j;d++)k[d].inNamespaces(f)&&k[d].handler.apply(a,i)}}return a},setSelectorEngine:G,noConflict:function(){c[g]=m;return this}};if(f.attachEvent){var K=function(){var a,d=v.entries();for(a in d)d[a].type&&d[a].type!=="unload"&&F(d[a].element,d[a].type);f.detachEvent("onunload",K);f.CollectGarbage&&f.CollectGarbage()};f.attachEvent("onunload",K)}G();return J});provide("bean",l.exports);(function(g){for(var c=require("bean"),f=function(a,e){var f=e?[e]:[];return function(){for(var h=
0,g=this.length;h<g;h++)!arguments.length&&a=="on"&&e&&(a="fire"),c[a].apply(this,[this[h]].concat(f,Array.prototype.slice.call(arguments,0)));return this}},m=f("add"),h=f("on"),e=f("one"),a=f("off"),l=f("fire"),o=f("clone"),m={on:h,addListener:h,bind:h,listen:h,delegate:m,one:e,off:a,unbind:a,unlisten:a,removeListener:a,undelegate:a,emit:l,trigger:l,cloneEvents:o,hover:function(a,e,f){for(f=this.length;f--;)c.on.call(this,this[f],"mouseenter",a),c.on.call(this,this[f],"mouseleave",e);return this}},
h="blur change click dblclick error focus focusin focusout keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover mouseup mousemove resize scroll select submit unload".split(" "),e=h.length;e--;)m[h[e]]=f("on",h[e]);c.setSelectorEngine(g);g.ender(m,!0)})(ender)})();window.Modernizr=function(l,g,c){var f={},m=g.documentElement,h=g.createElement("modernizr"),h=h.style,e=" -webkit- -moz- -o- -ms- ".split(" "),a={},n=[],o=n.slice,p,u=function(a,c,e,f){var h,o,k=g.createElement("div"),l=g.body,n=l||g.createElement("body");if(parseInt(e,10))for(;e--;)h=g.createElement("div"),h.id=f?f[e]:"modernizr"+(e+1),k.appendChild(h);e=['&#173;<style id="smodernizr">',a,"</style>"].join("");k.id="modernizr";(l?k:n).innerHTML+=e;n.appendChild(k);if(!l)n.style.background="",n.style.overflow=
"hidden",o=m.style.overflow,m.style.overflow="hidden",m.appendChild(n);a=c(k,a);l?k.parentNode.removeChild(k):(n.parentNode.removeChild(n),m.style.overflow=o);return!!a},s={}.hasOwnProperty,x;x=typeof s!=="undefined"&&typeof s.call!=="undefined"?function(a,c){return s.call(a,c)}:function(a,c){return c in a&&typeof a.constructor.prototype[c]==="undefined"};if(!Function.prototype.bind)Function.prototype.bind=function(a){var c=this;if(typeof c!="function")throw new TypeError;var e=o.call(arguments,1),
f=function(){if(this instanceof f){var h=function(){};h.prototype=c.prototype;var h=new h,g=c.apply(h,e.concat(o.call(arguments)));if(Object(g)===g)return g;return h}else return c.apply(a,e.concat(o.call(arguments)))};return f};a.touch=function(){var a;"ontouchstart"in l||l.DocumentTouch&&g instanceof DocumentTouch?a=!0:u(["@media (",e.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(c){a=c.offsetTop===9});return a};a.localstorage=function(){try{return localStorage.setItem("modernizr",
"modernizr"),localStorage.removeItem("modernizr"),!0}catch(a){return!1}};a.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(a){return!1}};for(var y in a)x(a,y)&&(p=y.toLowerCase(),f[p]=a[y](),n.push((f[p]?"":"no-")+p));f.addTest=function(a,e){if(typeof a=="object")for(var h in a)x(a,h)&&f.addTest(h,a[h]);else{a=a.toLowerCase();if(f[a]!==c)return f;e=typeof e=="function"?e():e;typeof!0!=="undefined"&&(m.className+=
" "+(e?"":"no-")+a);f[a]=e}return f};h.cssText="";h=null;f._version="2.6.2";f._prefixes=e;f.testStyles=u;m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+n.join(" "));return f}(this,this.document);Modernizr.addTest("contenteditable","contentEditable"in document.documentElement);/*
 MIT License (c) copyright B Cavalier & J Hann */
(function(l){l(function(){function g(a,e,f,k){return c(a).then(e,f,k)}function c(c){var h;if(!(c instanceof f))a(c)?(h=e(),c.then(function(a){h.resolve(a)},function(a){h.reject(a)},function(a){h.progress(a)}),c=h.promise):c=m(c);return c}function f(a){this.then=a}function m(a){return new f(function(e){try{return c(e?e(a):a)}catch(f){return h(f)}})}function h(a){return new f(function(e,f){try{return f?c(f(a)):h(a)}catch(k){return h(k)}})}function e(){function a(c,e,f){return p(c,e,f)}function g(a){return s(a)}
function m(a){return s(h(a))}function k(a){return y(a)}var o,l,n,p,y,s;o=new f(a);o={then:a,resolve:g,reject:m,progress:k,promise:o,resolver:{resolve:g,reject:m,progress:k}};l=[];n=[];p=function(a,c,f){var h,d;h=e();d=typeof f==="function"?function(d){try{h.progress(f(d))}catch(a){h.progress(a)}}:function(d){h.progress(d)};l.push(function(i){i.then(a,c).then(h.resolve,h.reject,d)});n.push(d);return h.promise};y=function(a){u(n,a);return a};s=function(a){a=c(a);p=a.then;s=c;y=x;u(l,a);n=l=z;return a};
return o}function a(a){return a&&typeof a.then==="function"}function l(a,c,f,h,m){s(2,arguments);return g(a,function(a){function o(b){d(b)}function l(b){v(b)}var n,p,u,y,s,v,d,i,q,b;q=a.length>>>0;n=Math.max(0,Math.min(c,q));u=[];p=q-n+1;y=[];s=e();if(n){i=s.progress;d=function(b){y.push(b);--p||(v=d=x,s.reject(y))};v=function(b){u.push(b);--n||(v=d=x,s.resolve(u))};for(b=0;b<q;++b)b in a&&g(a[b],l,o,i)}else s.resolve(u);return s.then(f,h,m)})}function o(a,c,e,f){s(1,arguments);return p(a,y).then(c,
e,f)}function p(a,c){return g(a,function(a){var f,h,m,o,l,n;m=h=a.length>>>0;f=[];n=e();if(m){o=function(a,e){g(a,c).then(function(a){f[e]=a;--m||n.resolve(f)},n.reject)};for(l=0;l<h;l++)l in a?o(a[l],l):--m}else n.resolve(f);return n.promise})}function u(a,c){for(var e,f=0;e=a[f++];)e(c)}function s(a,c){for(var e,f=c.length;f>a;)if(e=c[--f],e!=null&&typeof e!="function")throw Error("arg "+f+" must be a function");}function x(){}function y(a){return a}var t,E,z;g.defer=e;g.resolve=c;g.reject=function(a){return g(a,
h)};g.join=function(){return p(arguments,y)};g.all=o;g.map=p;g.reduce=function(a,c){var e=E.call(arguments,1);return g(a,function(a){var f;f=a.length;e[0]=function(a,e,h){return g(a,function(a){return g(e,function(e){return c(a,e,h,f)})})};return t.apply(a,e)})};g.any=function(a,c,e,f){return l(a,1,function(a){return c?c(a[0]):a[0]},e,f)};g.some=l;g.chain=function(a,c,e){var f=arguments.length>2;return g(a,function(a){a=f?e:a;c.resolve(a);return a},function(a){c.reject(a);return h(a)},c.progress)};
g.isPromise=a;f.prototype={always:function(a,c){return this.then(a,a,c)},otherwise:function(a){return this.then(z,a)},yield:function(a){return this.then(function(){return a})},spread:function(a){return this.then(function(c){return o(c,function(c){return a.apply(z,c)})})}};E=[].slice;t=[].reduce||function(a){var c,e,f,h,g;g=0;c=Object(this);h=c.length>>>0;e=arguments;if(e.length<=1)for(;;){if(g in c){f=c[g++];break}if(++g>=h)throw new TypeError;}else f=e[1];for(;g<h;++g)g in c&&(f=a(f,c[g],g,c));return f};
return g})})(function(l){typeof exports==="object"?module.exports=l():this.when=l()});(function(){var l=this,g=l._,c={},f=Array.prototype,m=Object.prototype,h=f.push,e=f.slice,a=f.concat,n=m.toString,o=m.hasOwnProperty,p=f.forEach,u=f.map,s=f.reduce,x=f.reduceRight,y=f.filter,t=f.every,E=f.some,z=f.indexOf,v=f.lastIndexOf,m=Array.isArray,D=Object.keys,G=Function.prototype.bind,k=function(b){if(b instanceof k)return b;if(!(this instanceof k))return new k(b);this._wrapped=b};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports)exports=module.exports=k;exports._=
k}else l._=k;k.VERSION="1.4.2";var C=k.each=k.forEach=function(b,d,a){if(b!=null)if(p&&b.forEach===p)b.forEach(d,a);else if(b.length===+b.length)for(var i=0,e=b.length;i<e;i++){if(d.call(a,b[i],i,b)===c)break}else for(i in b)if(k.has(b,i)&&d.call(a,b[i],i,b)===c)break};k.map=k.collect=function(b,d,a){var c=[];if(b==null)return c;if(u&&b.map===u)return b.map(d,a);C(b,function(b,i,e){c[c.length]=d.call(a,b,i,e)});return c};k.reduce=k.foldl=k.inject=function(b,d,a,c){var i=arguments.length>2;b==null&&
(b=[]);if(s&&b.reduce===s)return c&&(d=k.bind(d,c)),i?b.reduce(d,a):b.reduce(d);C(b,function(b,e,f){i?a=d.call(c,a,b,e,f):(a=b,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return a};k.reduceRight=k.foldr=function(b,d,a,c){var i=arguments.length>2;b==null&&(b=[]);if(x&&b.reduceRight===x)return c&&(d=k.bind(d,c)),arguments.length>2?b.reduceRight(d,a):b.reduceRight(d);var e=b.length;if(e!==+e)var f=k.keys(b),e=f.length;C(b,function(h,g,k){g=f?f[--e]:--e;i?a=d.call(c,
a,b[g],g,k):(a=b[g],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return a};k.find=k.detect=function(b,d,a){var c;H(b,function(b,i,e){if(d.call(a,b,i,e))return c=b,!0});return c};k.filter=k.select=function(b,d,a){var c=[];if(b==null)return c;if(y&&b.filter===y)return b.filter(d,a);C(b,function(b,i,e){d.call(a,b,i,e)&&(c[c.length]=b)});return c};k.reject=function(b,d,a){var c=[];if(b==null)return c;C(b,function(b,i,e){d.call(a,b,i,e)||(c[c.length]=b)});return c};
k.every=k.all=function(b,d,a){d||(d=k.identity);var i=!0;if(b==null)return i;if(t&&b.every===t)return b.every(d,a);C(b,function(b,e,f){if(!(i=i&&d.call(a,b,e,f)))return c});return!!i};var H=k.some=k.any=function(b,d,a){d||(d=k.identity);var i=!1;if(b==null)return i;if(E&&b.some===E)return b.some(d,a);C(b,function(b,e,f){if(i||(i=d.call(a,b,e,f)))return c});return!!i};k.contains=k.include=function(b,d){var a=!1;if(b==null)return a;if(z&&b.indexOf===z)return b.indexOf(d)!=-1;return a=H(b,function(b){return b===
d})};k.invoke=function(b,d){var a=e.call(arguments,2);return k.map(b,function(b){return(k.isFunction(d)?d:b[d]).apply(b,a)})};k.pluck=function(b,d){return k.map(b,function(b){return b[d]})};k.where=function(b,d){if(k.isEmpty(d))return[];return k.filter(b,function(b){for(var a in d)if(d[a]!==b[a])return!1;return!0})};k.max=function(b,d,a){if(!d&&k.isArray(b)&&b[0]===+b[0]&&b.length<65535)return Math.max.apply(Math,b);if(!d&&k.isEmpty(b))return-Infinity;var c={computed:-Infinity};C(b,function(b,i,e){i=
d?d.call(a,b,i,e):b;i>=c.computed&&(c={value:b,computed:i})});return c.value};k.min=function(b,d,a){if(!d&&k.isArray(b)&&b[0]===+b[0]&&b.length<65535)return Math.min.apply(Math,b);if(!d&&k.isEmpty(b))return Infinity;var c={computed:Infinity};C(b,function(b,i,e){i=d?d.call(a,b,i,e):b;i<c.computed&&(c={value:b,computed:i})});return c.value};k.shuffle=function(b){var d,a=0,c=[];C(b,function(b){d=k.random(a++);c[a-1]=c[d];c[d]=b});return c};var r=function(b){return k.isFunction(b)?b:function(d){return d[b]}};
k.sortBy=function(b,d,a){var c=r(d);return k.pluck(k.map(b,function(b,d,i){return{value:b,index:d,criteria:c.call(a,b,d,i)}}).sort(function(b,d){var a=b.criteria,c=d.criteria;if(a!==c){if(a>c||a===void 0)return 1;if(a<c||c===void 0)return-1}return b.index<d.index?-1:1}),"value")};var B=function(b,d,a,c){var i={},e=r(d);C(b,function(d,j){var f=e.call(a,d,j,b);c(i,f,d)});return i};k.groupBy=function(b,d,a){return B(b,d,a,function(b,d,a){(k.has(b,d)?b[d]:b[d]=[]).push(a)})};k.countBy=function(b,d,a){return B(b,
d,a,function(b,d){k.has(b,d)||(b[d]=0);b[d]++})};k.sortedIndex=function(b,d,a,c){for(var a=a==null?k.identity:r(a),d=a.call(c,d),i=0,e=b.length;i<e;){var f=i+e>>>1;a.call(c,b[f])<d?i=f+1:e=f}return i};k.toArray=function(b){if(!b)return[];if(b.length===+b.length)return e.call(b);return k.values(b)};k.size=function(b){return b.length===+b.length?b.length:k.keys(b).length};k.first=k.head=k.take=function(b,d,a){return d!=null&&!a?e.call(b,0,d):b[0]};k.initial=function(b,d,a){return e.call(b,0,b.length-
(d==null||a?1:d))};k.last=function(b,d,a){return d!=null&&!a?e.call(b,Math.max(b.length-d,0)):b[b.length-1]};k.rest=k.tail=k.drop=function(b,d,a){return e.call(b,d==null||a?1:d)};k.compact=function(b){return k.filter(b,function(b){return!!b})};var A=function(b,d,a){C(b,function(b){k.isArray(b)?d?h.apply(a,b):A(b,d,a):a.push(b)});return a};k.flatten=function(b,d){return A(b,d,[])};k.without=function(b){return k.difference(b,e.call(arguments,1))};k.uniq=k.unique=function(b,d,a,c){var a=a?k.map(b,a,
c):b,i=[],e=[];C(a,function(a,c){if(d?!c||e[e.length-1]!==a:!k.contains(e,a))e.push(a),i.push(b[c])});return i};k.union=function(){return k.uniq(a.apply(f,arguments))};k.intersection=function(b){var d=e.call(arguments,1);return k.filter(k.uniq(b),function(b){return k.every(d,function(d){return k.indexOf(d,b)>=0})})};k.difference=function(b){var d=a.apply(f,e.call(arguments,1));return k.filter(b,function(b){return!k.contains(d,b)})};k.zip=function(){for(var b=e.call(arguments),d=k.max(k.pluck(b,"length")),
a=Array(d),c=0;c<d;c++)a[c]=k.pluck(b,""+c);return a};k.object=function(b,d){for(var a={},c=0,i=b.length;c<i;c++)d?a[b[c]]=d[c]:a[b[c][0]]=b[c][1];return a};k.indexOf=function(b,d,a){if(b==null)return-1;var c=0,i=b.length;if(a)if(typeof a=="number")c=a<0?Math.max(0,i+a):a;else return c=k.sortedIndex(b,d),b[c]===d?c:-1;if(z&&b.indexOf===z)return b.indexOf(d,a);for(;c<i;c++)if(b[c]===d)return c;return-1};k.lastIndexOf=function(b,d,a){if(b==null)return-1;var c=a!=null;if(v&&b.lastIndexOf===v)return c?
b.lastIndexOf(d,a):b.lastIndexOf(d);for(a=c?a:b.length;a--;)if(b[a]===d)return a;return-1};k.range=function(b,d,a){arguments.length<=1&&(d=b||0,b=0);for(var a=arguments[2]||1,c=Math.max(Math.ceil((d-b)/a),0),i=0,e=Array(c);i<c;)e[i++]=b,b+=a;return e};var F=function(){};k.bind=function(b,d){var a,c;if(b.bind===G&&G)return G.apply(b,e.call(arguments,1));if(!k.isFunction(b))throw new TypeError;c=e.call(arguments,2);return a=function(){if(!(this instanceof a))return b.apply(d,c.concat(e.call(arguments)));
F.prototype=b.prototype;var i=new F,f=b.apply(i,c.concat(e.call(arguments)));if(Object(f)===f)return f;return i}};k.bindAll=function(b){var d=e.call(arguments,1);d.length==0&&(d=k.functions(b));C(d,function(d){b[d]=k.bind(b[d],b)});return b};k.memoize=function(b,d){var a={};d||(d=k.identity);return function(){var c=d.apply(this,arguments);return k.has(a,c)?a[c]:a[c]=b.apply(this,arguments)}};k.delay=function(b,d){var a=e.call(arguments,2);return setTimeout(function(){return b.apply(null,a)},d)};k.defer=
function(b){return k.delay.apply(k,[b,1].concat(e.call(arguments,1)))};k.throttle=function(b,d){var a,c,i,e,f,h,g=k.debounce(function(){f=e=!1},d);return function(){a=this;c=arguments;var k;i||(i=setTimeout(function(){i=null;f&&(h=b.apply(a,c));g()},d));e?f=!0:(e=!0,h=b.apply(a,c));g();return h}};k.debounce=function(b,d,a){var c,i;return function(){var e=this,f=arguments,h=a&&!c;clearTimeout(c);c=setTimeout(function(){c=null;a||(i=b.apply(e,f))},d);h&&(i=b.apply(e,f));return i}};k.once=function(b){var d=
!1,a;return function(){if(d)return a;d=!0;a=b.apply(this,arguments);b=null;return a}};k.wrap=function(b,d){return function(){var a=[b];h.apply(a,arguments);return d.apply(this,a)}};k.compose=function(){var b=arguments;return function(){for(var d=arguments,a=b.length-1;a>=0;a--)d=[b[a].apply(this,d)];return d[0]}};k.after=function(b,d){if(b<=0)return d();return function(){if(--b<1)return d.apply(this,arguments)}};k.keys=D||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var d=[],
a;for(a in b)k.has(b,a)&&(d[d.length]=a);return d};k.values=function(b){var d=[],a;for(a in b)k.has(b,a)&&d.push(b[a]);return d};k.pairs=function(b){var d=[],a;for(a in b)k.has(b,a)&&d.push([a,b[a]]);return d};k.invert=function(b){var d={},a;for(a in b)k.has(b,a)&&(d[b[a]]=a);return d};k.functions=k.methods=function(b){var d=[],a;for(a in b)k.isFunction(b[a])&&d.push(a);return d.sort()};k.extend=function(b){C(e.call(arguments,1),function(d){for(var a in d)b[a]=d[a]});return b};k.pick=function(b){var d=
{},c=a.apply(f,e.call(arguments,1));C(c,function(a){a in b&&(d[a]=b[a])});return d};k.omit=function(b){var d={},c=a.apply(f,e.call(arguments,1)),i;for(i in b)k.contains(c,i)||(d[i]=b[i]);return d};k.defaults=function(b){C(e.call(arguments,1),function(d){for(var a in d)b[a]==null&&(b[a]=d[a])});return b};k.clone=function(b){if(!k.isObject(b))return b;return k.isArray(b)?b.slice():k.extend({},b)};k.tap=function(b,d){d(b);return b};var I=function(b,d,a,c){if(b===d)return b!==0||1/b==1/d;if(b==null||
d==null)return b===d;if(b instanceof k)b=b._wrapped;if(d instanceof k)d=d._wrapped;var i=n.call(b);if(i!=n.call(d))return!1;switch(i){case "[object String]":return b==String(d);case "[object Number]":return b!=+b?d!=+d:b==0?1/b==1/d:b==+d;case "[object Date]":case "[object Boolean]":return+b==+d;case "[object RegExp]":return b.source==d.source&&b.global==d.global&&b.multiline==d.multiline&&b.ignoreCase==d.ignoreCase}if(typeof b!="object"||typeof d!="object")return!1;for(var e=a.length;e--;)if(a[e]==
b)return c[e]==d;a.push(b);c.push(d);var e=0,f=!0;if(i=="[object Array]"){if(e=b.length,f=e==d.length)for(;e--;)if(!(f=I(b[e],d[e],a,c)))break}else{var i=b.constructor,h=d.constructor;if(i!==h&&(!k.isFunction(i)||!(i instanceof i&&k.isFunction(h)&&h instanceof h)))return!1;for(var g in b)if(k.has(b,g)&&(e++,!(f=k.has(d,g)&&I(b[g],d[g],a,c))))break;if(f){for(g in d)if(k.has(d,g)&&!e--)break;f=!e}}a.pop();c.pop();return f};k.isEqual=function(b,d){return I(b,d,[],[])};k.isEmpty=function(b){if(b==null)return!0;
if(k.isArray(b)||k.isString(b))return b.length===0;for(var d in b)if(k.has(b,d))return!1;return!0};k.isElement=function(b){return!!(b&&b.nodeType===1)};k.isArray=m||function(b){return n.call(b)=="[object Array]"};k.isObject=function(b){return b===Object(b)};C(["Arguments","Function","String","Number","Date","RegExp"],function(b){k["is"+b]=function(d){return n.call(d)=="[object "+b+"]"}});if(!k.isArguments(arguments))k.isArguments=function(b){return!(!b||!k.has(b,"callee"))};if(typeof/./!=="function")k.isFunction=
function(b){return typeof b==="function"};k.isFinite=function(b){return k.isNumber(b)&&isFinite(b)};k.isNaN=function(b){return k.isNumber(b)&&b!=+b};k.isBoolean=function(b){return b===!0||b===!1||n.call(b)=="[object Boolean]"};k.isNull=function(b){return b===null};k.isUndefined=function(b){return b===void 0};k.has=function(b,d){return o.call(b,d)};k.noConflict=function(){l._=g;return this};k.identity=function(b){return b};k.times=function(b,d,a){for(var c=0;c<b;c++)d.call(a,c)};k.random=function(b,
d){d==null&&(d=b,b=0);return b+(0|Math.random()*(d-b+1))};var J={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};J.unescape=k.invert(J.escape);var K={escape:RegExp("["+k.keys(J.escape).join("")+"]","g"),unescape:RegExp("("+k.keys(J.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(b){k[b]=function(d){if(d==null)return"";return(""+d).replace(K[b],function(d){return J[b][d]})}});k.result=function(b,d){if(b==null)return null;var a=b[d];return k.isFunction(a)?
a.call(b):a};k.mixin=function(b){C(k.functions(b),function(d){var a=k[d]=b[d];k.prototype[d]=function(){var b=[this._wrapped];h.apply(b,arguments);b=a.apply(k,b);return this._chain?k(b).chain():b}})};var L=0;k.uniqueId=function(b){var d=L++;return b?b+d:d};k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var d=/(.)^/,i={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=
function(b,a,c){var c=k.defaults({},c,k.templateSettings),e=RegExp([(c.escape||d).source,(c.interpolate||d).source,(c.evaluate||d).source].join("|")+"|$","g"),f=0,h="__p+='";b.replace(e,function(d,a,c,e,j){h+=b.slice(f,j).replace(q,function(b){return"\\"+i[b]});h+=a?"'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":c?"'+\n((__t=("+c+"))==null?'':__t)+\n'":e?"';\n"+e+"\n__p+='":"";f=j+d.length});h+="';\n";c.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
h+"return __p;\n";try{var g=new Function(c.variable||"obj","_",h)}catch(m){throw m.source=h,m;}if(a)return g(a,k);a=function(b){return g.call(this,b,k)};a.source="function("+(c.variable||"obj")+"){\n"+h+"}";return a};k.chain=function(b){return k(b).chain()};k.mixin(k);C(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var d=f[b];k.prototype[b]=function(){var a=this._wrapped;d.apply(a,arguments);(b=="shift"||b=="splice")&&a.length===0&&delete a[0];return this._chain?k(a).chain():
a}});C(["concat","join","slice"],function(b){var d=f[b];k.prototype[b]=function(){var b=d.apply(this._wrapped,arguments);return this._chain?k(b).chain():b}});k.extend(k.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);(function(l){function g(a){var c=x[a]={},e,f,a=a.split(/\s+/);e=0;for(f=a.length;e<f;e++)c[a[e]]=!0;return c}var c={},f=Array.prototype,m=Object.prototype,h=m.hasOwnProperty,e=m.toString,a=f.forEach,n=f.slice,o=function(e,f,g){var m,o;if(e)if(a&&e.forEach===a)e.forEach(f,g);else if(e.length===+e.length){m=0;for(o=e.length;m<o;m++)if(m in e&&f.call(g,e[m],m,e)===c)break}else for(m in e)if(h.call(e,m)&&f.call(g,e[m],m,e)===c)break},p=function(a){return!(!a||!a.constructor||!a.call||!a.apply)},u={"[object Array]":"array",
"[object Function]":"function"};"done fail isResolved isRejected promise then always pipe".split(" ");var s={},x={};s.Callbacks=function(a){var a=a?x[a]||g(a):{},c=[],f=[],h,m,o,l,k,n=function(f){var h,g,m,k;h=0;for(g=f.length;h<g;h++)m=f[h],k=!m?String(m):u[e.call(m)]||"object",k==="array"?n(m):k==="function"&&(!a.unique||!s.has(m))&&c.push(m)},p=function(e,g){g=g||[];h=!a.memory||[e,g];m=!0;k=o||0;o=0;for(l=c.length;c&&k<l;k++)if(c[k].apply(e,g)===!1&&a.stopOnFalse){h=!0;break}m=!1;c&&(a.once?h===
!0?s.disable():c=[]:f&&f.length&&(h=f.shift(),s.fireWith(h[0],h[1])))},s={add:function(){if(c){var a=c.length;n(arguments);m?l=c.length:h&&h!==!0&&(o=a,p(h[0],h[1]))}return this},remove:function(){if(c)for(var e=arguments,f=0,h=e.length;f<h;f++)for(var g=0;g<c.length;g++)if(e[f]===c[g]&&(m&&g<=l&&(l--,g<=k&&k--),c.splice(g--,1),a.unique))break;return this},has:function(a){if(c)for(var e=0,f=c.length;e<f;e++)if(a===c[e])return!0;return!1},empty:function(){c=[];return this},disable:function(){c=f=h=
void 0;return this},disabled:function(){return!c},lock:function(){f=void 0;(!h||h===!0)&&s.disable();return this},locked:function(){return!f},fireWith:function(c,e){f&&(m?a.once||f.push([c,e]):(!a.once||!h)&&p(c,e));return this},fire:function(){s.fireWith(this,arguments);return this},fired:function(){return!!h}};return s};s.Deferred=function(a){var c=s.Callbacks("once memory"),e=s.Callbacks("once memory"),f=s.Callbacks("memory"),h="pending",g={resolve:c,reject:e,notify:f},m={done:c.add,fail:e.add,
progress:f.add,state:function(){return h},isResolved:c.fired,isRejected:e.fired,then:function(a,c,e){k.done(a).fail(c).progress(e);return this},always:function(){k.done.apply(k,arguments).fail.apply(k,arguments);return this},pipe:function(a,c,e){return s.Deferred(function(f){o({done:[a,"resolve"],fail:[c,"reject"],progress:[e,"notify"]},function(a,c){var e=a[0],h=a[1],g;if(p(e))k[c](function(){if((g=e.apply(this,arguments))&&p(g.promise))g.promise().then(f.resolve,f.reject,f.notify);else f[h+"With"](this===
k?f:this,[g])});else k[c](f[h])})}).promise()},promise:function(a){if(a)for(var c in m)a[c]=m[c];else a=m;return a}},k=m.promise({}),l;for(l in g)k[l]=g[l].fire,k[l+"With"]=g[l].fireWith;k.done(function(){h="resolved"},e.disable,f.lock).fail(function(){h="rejected"},c.disable,f.lock);a&&a.call(k,k);return k};s.when=function(a){function c(a){return function(c){f[a]=arguments.length>1?n.call(arguments,0):c;--k||o.resolveWith(o,f)}}function e(a){return function(c){m[a]=arguments.length>1?n.call(arguments,
0):c;o.notifyWith(l,m)}}var f=n.call(arguments,0),h=0,g=f.length,m=Array(g),k=g,o=g<=1&&a&&p(a.promise)?a:s.Deferred(),l=o.promise();if(g>1){for(;h<g;h++)f[h]&&f[h].promise&&p(f[h].promise)?f[h].promise().then(c(h),o.reject,e(h)):--k;k||o.resolveWith(o,f)}else o!==a&&o.resolveWith(o,g?[a]:[]);return l};typeof module!=="undefined"&&module.exports?module.exports=s:typeof l._!=="undefined"?l._.mixin(s):l._=s})(this);(function(l){l.strip=function(g){var c=document.createElement("DIV");c.innerHTML=g;return c.textContent||c.innerText};l.truncate=function(g,c,f){return g.length>c?g.slice(0,c)+(f||"..."):g};l.pluralize=function(g,c,f){return g===1?c:f};l.chainedDefer=function(){return function(g,c,f){l.defer(function(){g.length&&(c.call(f,g.shift()),l.chainedDefer(g,c,f))})}}();l.decorate=function(){var g=l.toArray(arguments),c=g.pop(),f;l.isFunction(c)||(f=c,c=g.pop());return l.reduceRight(g,function(c,h){return h.call(f||
this,c)},function(){return c.apply(f||this,arguments)})}})(_);(function(){var l=this,g=l.Backbone,c=[],f=c.push,m=c.slice,h=c.splice,e;e=typeof exports!=="undefined"?exports:l.Backbone={};e.VERSION="1.0.0";var a=l._;!a&&typeof require!=="undefined"&&(a=require("underscore"));e.$=l.jQuery||l.Zepto||l.ender||l.$;e.noConflict=function(){l.Backbone=g;return this};e.emulateHTTP=!1;e.emulateJSON=!1;var n=e.Events={on:function(d,a,c){if(!p(this,"on",d,[a,c])||!a)return this;this._events||(this._events={});(this._events[d]||(this._events[d]=[])).push({callback:a,context:c,
ctx:c||this});return this},once:function(d,c,e){if(!p(this,"once",d,[c,e])||!c)return this;var b=this,f=a.once(function(){b.off(d,f);c.apply(this,arguments)});f._callback=c;return this.on(d,f,e)},off:function(d,c,e){var b,f,h,g,m,k,o,l;if(!this._events||!p(this,"off",d,[c,e]))return this;if(!d&&!c&&!e)return this._events={},this;g=d?[d]:a.keys(this._events);m=0;for(k=g.length;m<k;m++)if(d=g[m],h=this._events[d]){this._events[d]=b=[];if(c||e){o=0;for(l=h.length;o<l;o++)f=h[o],(c&&c!==f.callback&&c!==
f.callback._callback||e&&e!==f.context)&&b.push(f)}b.length||delete this._events[d]}return this},trigger:function(d){if(!this._events)return this;var a=m.call(arguments,1);if(!p(this,"trigger",d,a))return this;var c=this._events[d],b=this._events.all;c&&u(c,a);b&&u(b,arguments);return this},stopListening:function(d,a,c){var b=this._listeners;if(!b)return this;var e=!a&&!c;typeof a==="object"&&(c=this);d&&((b={})[d._listenerId]=d);for(var f in b)b[f].off(a,c,this),e&&delete this._listeners[f];return this}},
o=/\s+/,p=function(d,a,c,b){if(!c)return!0;if(typeof c==="object"){for(var e in c)d[a].apply(d,[e,c[e]].concat(b));return!1}if(o.test(c)){c=c.split(o);e=0;for(var f=c.length;e<f;e++)d[a].apply(d,[c[e]].concat(b));return!1}return!0},u=function(d,a){var c,b=-1,e=d.length,f=a[0],h=a[1],g=a[2];switch(a.length){case 0:for(;++b<e;)(c=d[b]).callback.call(c.ctx);break;case 1:for(;++b<e;)(c=d[b]).callback.call(c.ctx,f);break;case 2:for(;++b<e;)(c=d[b]).callback.call(c.ctx,f,h);break;case 3:for(;++b<e;)(c=
d[b]).callback.call(c.ctx,f,h,g);break;default:for(;++b<e;)(c=d[b]).callback.apply(c.ctx,a)}};a.each({listenTo:"on",listenToOnce:"once"},function(d,c){n[c]=function(c,b,e){var i=this._listeners||(this._listeners={}),f=c._listenerId||(c._listenerId=a.uniqueId("l"));i[f]=c;typeof b==="object"&&(e=this);c[d](b,e,this);return this}});n.bind=n.on;n.unbind=n.off;a.extend(e,n);var s=e.Model=function(d,c){var e,b=d||{};c||(c={});this.cid=a.uniqueId("c");this.attributes={};a.extend(this,a.pick(c,x));c.parse&&
(b=this.parse(b,c)||{});if(e=a.result(this,"defaults"))b=a.defaults({},b,e);this.set(b,c);this.changed={};this.initialize.apply(this,arguments)},x=["url","urlRoot","collection"];a.extend(s.prototype,n,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(d){return this.attributes[d]},escape:function(d){return a.escape(this.get(d))},has:function(d){return this.get(d)!=
null},set:function(d,c,e){var b,f,h,g,m,k,o;if(d==null)return this;typeof d==="object"?(f=d,e=c):(f={})[d]=c;e||(e={});if(!this._validate(f,e))return!1;h=e.unset;g=e.silent;d=[];m=this._changing;this._changing=!0;if(!m)this._previousAttributes=a.clone(this.attributes),this.changed={};o=this.attributes;k=this._previousAttributes;if(this.idAttribute in f)this.id=f[this.idAttribute];for(b in f)c=f[b],a.isEqual(o[b],c)||d.push(b),a.isEqual(k[b],c)?delete this.changed[b]:this.changed[b]=c,h?delete o[b]:
o[b]=c;if(!g){if(d.length)this._pending=!0;c=0;for(b=d.length;c<b;c++)this.trigger("change:"+d[c],this,o[d[c]],e)}if(m)return this;if(!g)for(;this._pending;)this._pending=!1,this.trigger("change",this,e);this._changing=this._pending=!1;return this},unset:function(d,c){return this.set(d,void 0,a.extend({},c,{unset:!0}))},clear:function(d){var c={},e;for(e in this.attributes)c[e]=void 0;return this.set(c,a.extend({},d,{unset:!0}))},hasChanged:function(d){if(d==null)return!a.isEmpty(this.changed);return a.has(this.changed,
d)},changedAttributes:function(d){if(!d)return this.hasChanged()?a.clone(this.changed):!1;var c,e=!1,b=this._changing?this._previousAttributes:this.attributes,f;for(f in d)if(!a.isEqual(b[f],c=d[f]))(e||(e={}))[f]=c;return e},previous:function(d){if(d==null||!this._previousAttributes)return null;return this._previousAttributes[d]},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(d){d=d?a.clone(d):{};if(d.parse===void 0)d.parse=!0;var c=this,e=d.success;d.success=
function(b){if(!c.set(c.parse(b,d),d))return!1;e&&e(c,b,d);c.trigger("sync",c,b,d)};L(this,d);return this.sync("read",this,d)},save:function(d,c,e){var b,f=this.attributes;d==null||typeof d==="object"?(b=d,e=c):(b={})[d]=c;if(b&&(!e||!e.wait)&&!this.set(b,e))return!1;e=a.extend({validate:!0},e);if(!this._validate(b,e))return!1;if(b&&e.wait)this.attributes=a.extend({},f,b);if(e.parse===void 0)e.parse=!0;var h=this,g=e.success;e.success=function(d){h.attributes=f;var c=h.parse(d,e);e.wait&&(c=a.extend(b||
{},c));if(a.isObject(c)&&!h.set(c,e))return!1;g&&g(h,d,e);h.trigger("sync",h,d,e)};L(this,e);d=this.isNew()?"create":e.patch?"patch":"update";if(d==="patch")e.attrs=b;d=this.sync(d,this,e);if(b&&e.wait)this.attributes=f;return d},destroy:function(d){var d=d?a.clone(d):{},c=this,e=d.success,b=function(){c.trigger("destroy",c,c.collection,d)};d.success=function(a){(d.wait||c.isNew())&&b();e&&e(c,a,d);c.isNew()||c.trigger("sync",c,a,d)};if(this.isNew())return d.success(),!1;L(this,d);var f=this.sync("delete",
this,d);d.wait||b();return f},url:function(){var d=a.result(this,"urlRoot")||a.result(this.collection,"url")||K();if(this.isNew())return d;return d+(d.charAt(d.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(d){return d},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(d){return this._validate({},a.extend(d||{},{validate:!0}))},_validate:function(d,c){if(!c.validate||!this.validate)return!0;var d=a.extend({},
this.attributes,d),e=this.validationError=this.validate(d,c)||null;if(!e)return!0;this.trigger("invalid",this,e,a.extend(c||{},{validationError:e}));return!1}});a.each(["keys","values","pairs","invert","pick","omit"],function(d){s.prototype[d]=function(){var c=m.call(arguments);c.unshift(this.attributes);return a[d].apply(a,c)}});var y=e.Collection=function(d,c){c||(c={});if(c.url)this.url=c.url;if(c.model)this.model=c.model;if(c.comparator!==void 0)this.comparator=c.comparator;this._reset();this.initialize.apply(this,
arguments);d&&this.reset(d,a.extend({silent:!0},c))},t={add:!0,remove:!0,merge:!0},E={add:!0,merge:!1,remove:!1};a.extend(y.prototype,n,{model:s,initialize:function(){},toJSON:function(d){return this.map(function(a){return a.toJSON(d)})},sync:function(){return e.sync.apply(this,arguments)},add:function(d,c){return this.set(d,a.defaults(c||{},E))},remove:function(d,c){d=a.isArray(d)?d.slice():[d];c||(c={});var e,b,f,h;e=0;for(b=d.length;e<b;e++)if(h=this.get(d[e])){delete this._byId[h.id];delete this._byId[h.cid];
f=this.indexOf(h);this.models.splice(f,1);this.length--;if(!c.silent)c.index=f,h.trigger("remove",h,this,c);this._removeReference(h)}return this},set:function(d,c){c=a.defaults(c||{},t);c.parse&&(d=this.parse(d,c));a.isArray(d)||(d=d?[d]:[]);var e,b,g,m,o,k=c.at,l=this.comparator&&k==null&&c.sort!==!1,n=a.isString(this.comparator)?this.comparator:null,p=[],u=[],s={};e=0;for(b=d.length;e<b;e++)if(g=this._prepareModel(d[e],c))(m=this.get(g))?(c.remove&&(s[m.cid]=!0),c.merge&&(m.set(g.attributes,c),
l&&!o&&m.hasChanged(n)&&(o=!0))):c.add&&(p.push(g),g.on("all",this._onModelEvent,this),this._byId[g.cid]=g,g.id!=null&&(this._byId[g.id]=g));if(c.remove){e=0;for(b=this.length;e<b;++e)s[(g=this.models[e]).cid]||u.push(g);u.length&&this.remove(u,c)}p.length&&(l&&(o=!0),this.length+=p.length,k!=null?h.apply(this.models,[k,0].concat(p)):f.apply(this.models,p));o&&this.sort({silent:!0});if(c.silent)return this;e=0;for(b=p.length;e<b;e++)(g=p[e]).trigger("add",g,this,c);o&&this.trigger("sort",this,c);
return this},reset:function(d,c){c||(c={});for(var e=0,b=this.models.length;e<b;e++)this._removeReference(this.models[e]);c.previousModels=this.models;this._reset();this.add(d,a.extend({silent:!0},c));c.silent||this.trigger("reset",this,c);return this},push:function(d,c){d=this._prepareModel(d,c);this.add(d,a.extend({at:this.length},c));return d},pop:function(d){var a=this.at(this.length-1);this.remove(a,d);return a},unshift:function(d,c){d=this._prepareModel(d,c);this.add(d,a.extend({at:0},c));return d},
shift:function(d){var a=this.at(0);this.remove(a,d);return a},slice:function(a,c){return this.models.slice(a,c)},get:function(a){if(a!=null)return this._byId[a.id!=null?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(d,c){if(a.isEmpty(d))return c?void 0:[];return this[c?"find":"filter"](function(a){for(var b in d)if(d[b]!==a.get(b))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(d){if(!this.comparator)throw Error("Cannot sort a set without a comparator");
d||(d={});a.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this));d.silent||this.trigger("sort",this,d);return this},sortedIndex:function(d,c,e){c||(c=this.comparator);var b=a.isFunction(c)?c:function(b){return b.get(c)};return a.sortedIndex(this.models,d,b,e)},pluck:function(d){return a.invoke(this.models,"get",d)},fetch:function(d){d=d?a.clone(d):{};if(d.parse===void 0)d.parse=!0;var c=d.success,e=this;
d.success=function(b){e[d.reset?"reset":"set"](b,d);c&&c(e,b,d);e.trigger("sync",e,b,d)};L(this,d);return this.sync("read",this,d)},create:function(d,c){c=c?a.clone(c):{};if(!(d=this._prepareModel(d,c)))return!1;c.wait||this.add(d,c);var e=this,b=c.success;c.success=function(a){c.wait&&e.add(d,c);b&&b(d,a,c)};d.save(null,c);return d},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,
c){if(a instanceof s){if(!a.collection)a.collection=this;return a}c||(c={});c.collection=this;var e=new this.model(a,c);if(!e._validate(a,c))return this.trigger("invalid",this,a,c),!1;return e},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,c,e,b){(a==="add"||a==="remove")&&e!==this||(a==="destroy"&&this.remove(c,b),c&&a==="change:"+c.idAttribute&&(delete this._byId[c.previous(c.idAttribute)],c.id!=null&&(this._byId[c.id]=
c)),this.trigger.apply(this,arguments))}});a.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"],function(d){y.prototype[d]=function(){var c=m.call(arguments);c.unshift(this.models);return a[d].apply(a,c)}});a.each(["groupBy",
"countBy","sortBy"],function(d){y.prototype[d]=function(c,e){var b=a.isFunction(c)?c:function(b){return b.get(c)};return a[d](this.models,b,e)}});var c=e.View=function(d){this.cid=a.uniqueId("view");this._configure(d||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},z=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];a.extend(c.prototype,n,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},
render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,c){this.$el&&this.undelegateEvents();this.$el=a instanceof e.$?a:e.$(a);this.el=this.$el[0];c!==!1&&this.delegateEvents();return this},delegateEvents:function(d){if(!d&&!(d=a.result(this,"events")))return this;this.undelegateEvents();for(var c in d){var e=d[c];a.isFunction(e)||(e=this[d[c]]);if(e){var b=c.match(z),f=b[1],b=b[2],e=a.bind(e,this);f+=".delegateEvents"+this.cid;if(b===
"")this.$el.on(f,e);else this.$el.on(f,b,e)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(d){this.options&&(d=a.extend({},a.result(this,"options"),d));a.extend(this,a.pick(d,v));this.options=d},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var d=a.extend({},a.result(this,"attributes"));if(this.id)d.id=a.result(this,"id");this.className&&(d["class"]=a.result(this,"className"));this.setElement(e.$("<"+
a.result(this,"tagName")+">").attr(d),!1)}}});e.sync=function(d,c,f){var b=D[d];a.defaults(f||(f={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var h={type:b,dataType:"json"};if(!f.url)h.url=a.result(c,"url")||K();if(f.data==null&&c&&(d==="create"||d==="update"||d==="patch"))h.contentType="application/json",h.data=JSON.stringify(f.attrs||c.toJSON(f));if(f.emulateJSON)h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{};if(f.emulateHTTP&&(b==="PUT"||b==="DELETE"||
b==="PATCH")){h.type="POST";if(f.emulateJSON)h.data._method=b;var g=f.beforeSend;f.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",b);if(g)return g.apply(this,arguments)}}if(h.type!=="GET"&&!f.emulateJSON)h.processData=!1;if(h.type==="PATCH"&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled))h.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};d=f.xhr=e.ajax(a.extend(h,f));c.trigger("request",c,d,f);return d};var D={create:"POST",update:"PUT",
patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var G=e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,H=/\*\w+/g,r=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(G.prototype,n,{initialize:function(){},route:function(d,c,f){a.isRegExp(d)||(d=this._routeToRegExp(d));a.isFunction(c)&&(f=c,c="");f||(f=this[c]);var b=this;e.history.route(d,function(a){a=b._extractParameters(d,
a);f&&f.apply(b,a);b.trigger.apply(b,["route:"+c].concat(a));b.trigger("route",c,a);e.history.trigger("route",b,c,a)});return this},navigate:function(a,c){e.history.navigate(a,c);return this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var d,c=a.keys(this.routes);(d=c.pop())!=null;)this.route(d,this.routes[d])}},_routeToRegExp:function(a){a=a.replace(r,"\\$&").replace(k,"(?:$1)?").replace(C,function(a,d){return d?a:"([^/]+)"}).replace(H,"(.*?)");return RegExp("^"+
a+"$")},_extractParameters:function(d,c){var e=d.exec(c).slice(1);return a.map(e,function(b){return b?decodeURIComponent(b):null})}});var B=e.History=function(){this.handlers=[];a.bindAll(this,"checkUrl");if(typeof window!=="undefined")this.location=window.location,this.history=window.history},A=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,I=/msie [\w.]+/,J=/\/$/;B.started=!1;a.extend(B.prototype,n,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,
c){if(a==null)if(this._hasPushState||!this._wantsHashChange||c){var a=this.location.pathname,e=this.root.replace(J,"");a.indexOf(e)||(a=a.substr(e.length))}else a=this.getHash();return a.replace(A,"")},start:function(d){if(B.started)throw Error("Backbone.history has already been started");B.started=!0;this.options=a.extend({},{root:"/"},this.options,d);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==!1;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||
!this.history||!this.history.pushState);var d=this.getFragment(),c=document.documentMode,c=I.exec(navigator.userAgent.toLowerCase())&&(!c||c<=7);this.root=("/"+this.root+"/").replace(F,"/");if(c&&this._wantsHashChange)this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(d);if(this._hasPushState)e.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!c)e.$(window).on("hashchange",this.checkUrl);
else if(this._wantsHashChange)this._checkUrlInterval=setInterval(this.checkUrl,this.interval);this.fragment=d;d=this.location;c=d.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!c)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;else if(this._wantsPushState&&this._hasPushState&&c&&d.hash)this.fragment=this.getHash().replace(A,""),this.history.replaceState({},
document.title,this.root+this.fragment+d.search);if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);B.started=!1},route:function(a,c){this.handlers.unshift({route:a,callback:c})},checkUrl:function(){var a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||
this.loadUrl(this.getHash())},loadUrl:function(d){var c=this.fragment=this.getFragment(d);return a.any(this.handlers,function(a){if(a.route.test(c))return a.callback(c),!0})},navigate:function(a,c){if(!B.started)return!1;if(!c||c===!0)c={trigger:c};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var e=this.root+a;if(this._hasPushState)this.history[c.replace?"replaceState":"pushState"]({},document.title,e);else if(this._wantsHashChange)this._updateHash(this.location,a,c.replace),this.iframe&&
a!==this.getFragment(this.getHash(this.iframe))&&(c.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,c.replace));else return this.location.assign(e);c.trigger&&this.loadUrl(a)}},_updateHash:function(a,c,e){e?(e=a.href.replace(/(javascript:|#).*$/,""),a.replace(e+"#"+c)):a.hash="#"+c}});e.history=new B;s.extend=y.extend=G.extend=c.extend=B.extend=function(d,c){var e=this,b;b=d&&a.has(d,"constructor")?d.constructor:function(){return e.apply(this,arguments)};a.extend(b,
e,c);var f=function(){this.constructor=b};f.prototype=e.prototype;b.prototype=new f;d&&a.extend(b.prototype,d);b.__super__=e.prototype;return b};var K=function(){throw Error('A "url" property or function must be specified');},L=function(a,c){var e=c.error;c.error=function(b){e&&e(a,b,c);a.trigger("error",a,b,c)}}}).call(this);(function(l){l.View.prototype.delegateActions=function(g,c){var f=this;g.delegate("[data-action]","click",function(g){g.preventDefault();var h=$(g.currentTarget).attr("data-action");if(h=c[h])if(typeof h==="function")h.call(f,g);else f[h](g)})};l.when=function(){var g=_.toArray(arguments),g=_.map(g,function(c){var f=new _.Deferred;c[0].on(c[1],function(){f.resolve()});return f.promise()});return _.when.apply(this,g)};l.collectionAddNormalizer=function(g,c){return function(f){return function(m,h,e){if(m instanceof
g)e=h,h=m,m=h.models;else if(m instanceof c)m=[m];else if(!_.isArray(m))throw"Unknown model: "+typeof m;return f.call(this,m,h,e||{})}}}})(Backbone);this.Handlebars={};
(function(l){l.VERSION="1.0.rc.2";l.COMPILER_REVISION=2;l.REVISION_CHANGES={1:"<= 1.0.rc.2",2:">= 1.0.rc.3"};l.helpers={};l.partials={};l.registerHelper=function(c,f,g){if(g)f.not=g;this.helpers[c]=f};l.registerPartial=function(c,f){this.partials[c]=f};l.registerHelper("helperMissing",function(c){if(arguments.length!==2)throw Error("Could not find property '"+c+"'");});var g=Object.prototype.toString;l.registerHelper("blockHelperMissing",function(c,f){var m=f.inverse||function(){},h=f.fn,e=g.call(c);
e==="[object Function]"&&(c=c.call(this));return c===!0?h(this):c===!1||c==null?m(this):e==="[object Array]"?c.length>0?l.helpers.each(c,f):m(this):h(c)});l.K=function(){};l.createFrame=Object.create||function(c){l.K.prototype=c;c=new l.K;l.K.prototype=null;return c};l.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(c,f){if(l.logger.level<=c){var g=l.logger.methodMap[c];typeof console!=="undefined"&&console[g]&&console[g].call(console,f)}}};
l.log=function(c,f){l.logger.log(c,f)};l.registerHelper("each",function(c,f){var g=f.fn,h=f.inverse,e=0,a="",n;f.data&&(n=l.createFrame(f.data));if(c&&typeof c==="object")if(c instanceof Array)for(var o=c.length;e<o;e++){if(n)n.index=e;a+=g(c[e],{data:n})}else for(o in c)if(c.hasOwnProperty(o)){if(n)n.key=o;a+=g(c[o],{data:n});e++}e===0&&(a=h(this));return a});l.registerHelper("if",function(c,f){g.call(c)==="[object Function]"&&(c=c.call(this));return!c||l.Utils.isEmpty(c)?f.inverse(this):f.fn(this)});
l.registerHelper("unless",function(c,f){var g=f.fn;f.fn=f.inverse;f.inverse=g;return l.helpers["if"].call(this,c,f)});l.registerHelper("with",function(c,f){return f.fn(c)});l.registerHelper("log",function(c,f){var g=f.data&&f.data.level!=null?parseInt(f.data.level,10):1;l.log(g,c)})})(this.Handlebars);var errorProps=["description","fileName","lineNumber","message","name","number","stack"];
Handlebars.Exception=function(){for(var l=Error.prototype.constructor.apply(this,arguments),g=0;g<errorProps.length;g++)this[errorProps[g]]=l[errorProps[g]]};Handlebars.Exception.prototype=Error();Handlebars.SafeString=function(l){this.string=l};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};
(function(){var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},g=/[&<>"'`]/g,c=/[&<>"'`]/,f=function(c){return l[c]||"&amp;"};Handlebars.Utils={escapeExpression:function(m){if(m instanceof Handlebars.SafeString)return m.toString();else if(m==null||m===!1)return"";if(!c.test(m))return m;return m.replace(g,f)},isEmpty:function(c){return!c&&c!==0?!0:Object.prototype.toString.call(c)==="[object Array]"&&c.length===0?!0:!1}}})();
Handlebars.VM={template:function(l){var g={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(c,f,g){var h=this.programs[c];return g?Handlebars.VM.program(f,g):(h||(h=this.programs[c]=Handlebars.VM.program(f)),h)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop,compilerInfo:null};return function(c,f){var f=f||{},m=l.call(g,Handlebars,c,f.helpers,f.partials,f.data),h=g.compilerInfo||[],e=h[0]||1,a=Handlebars.COMPILER_REVISION;
if(e!==a)if(e<a)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+Handlebars.REVISION_CHANGES[a]+") or downgrade your runtime to an older version ("+Handlebars.REVISION_CHANGES[e]+").";else throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+h[1]+").";return m}},programWithDepth:function(l,g){var c=Array.prototype.slice.call(arguments,
2);return function(f,m){m=m||{};return l.apply(this,[f,m.data||g].concat(c))}},program:function(l,g){return function(c,f){f=f||{};return l(c,f.data||g)}},noop:function(){return""},invokePartial:function(l,g,c,f,m,h){f={helpers:f,partials:m,data:h};if(l===void 0)throw new Handlebars.Exception("The partial "+g+" could not be found");else if(l instanceof Function)return l(c,f);else if(Handlebars.compile)return m[g]=Handlebars.compile(l,{data:h!==void 0}),m[g](c,f);else throw new Handlebars.Exception("The partial "+
g+" could not be compiled when running in runtime-only mode");}};Handlebars.template=Handlebars.VM.template;(function(){Handlebars.registerHelper("ifIn",function(){var l=arguments.length,g=arguments[l-1],c=arguments[0],f=!1,m;if(l>2)if(Object.prototype.toString.call(arguments[1])==="[object Array]"){var h=arguments[1],l=h.length;for(m=0;m<l;m++)if(h[m]===c){f=!0;break}}else for(m=1;m<l-1;m++)if(arguments[m]===c){f=!0;break}if(f)return g.fn(this);return g.inverse(this)});Handlebars.registerHelper("ifNotIn",function(){var l=arguments[arguments.length-1],g=l.fn;l.fn=l.inverse;l.inverse=g;return Handlebars.helpers.ifIn.apply(this,
arguments)});Handlebars.registerHelper("ifRegex",function(l,g,c){if(RegExp(l,"g").test(g))return c.fn(this);return c.inverse(this)});Handlebars.registerHelper("any",function(){for(var l=arguments.length,g=0;g<l-1;g++)if(arguments[g])return arguments[g]});Handlebars.registerHelper("t",function(){var l=arguments[arguments.length-1],g=l.hash,c=arguments[0],f=window.Handlebars.partials,m,h,e;for(e in g)g.hasOwnProperty(e)&&(h=RegExp("%\\(("+e+")\\)s","gm"),(m=g[e])&&m.executePartial&&(m=f[m.partial].call(this,
m.context,l)),c=c.replace(h,m||""));return new Handlebars.SafeString(c)});Handlebars.registerHelper("g",function(l,g){for(var c=g.data,f=l.split("."),m=f.length,h=0;c.hasOwnProperty(f[h])&&h<m;)c=c[f[h]],h++;return c});Handlebars.registerHelper("html",function(l){return new Handlebars.SafeString(l||"")});Handlebars.registerHelper("partial",function(l,g){Handlebars.registerPartial(l,g.fn)});Handlebars.registerHelper("with",function(){var l=arguments.length,g=arguments[l-1],c=arguments[0];if(l===3)c=
{},c[arguments[0]]=arguments[1];else if(c==="_window_")c=window;else if(c==="_global_")c=g.data;return g.fn(c)});Handlebars.registerHelper("math",function(l,g,c){switch(c.hash.op){case "multiply":return l*g;case "sum":return l+g;default:return 0}});Handlebars.registerHelper("log",function(l){window.console.log(l,this)});Handlebars.registerHelper("debug",function(){})})();(function(l){l.fn.autoresize=function(g){var c=_.extend({extraSpace:0,maxHeight:1E3},g);return this.each(function(){var f=l(this).css({resize:"none",overflow:"hidden"}),g=String(f[0].contentEditable)==="true"?"html":"val",h=g==="html"?"<br>":"\n",e=f.height(),a=function(){var a={};_.each(a,function(c,e){a[e]=f.css(e)});var c=l(f[0].cloneNode(!0));c.removeAttr("id").removeAttr("name").css({visibility:"hidden",position:"absolute",top:0,left:"100%",contentEditable:!1}).css(a).attr("tabIndex","-1");c.insertAfter(f[0]);
return c}(),n=null,o=function(){a[0].style.height=0;a[g](f[g]()+h);a.scrollTop(a[0].scrollHeight);var o=Math.max(a[0].scrollHeight,e)+parseInt(c.extraSpace,10);if(c.maxHeight)o>=c.maxHeight?(f.css("overflow",""),o=c.maxHeight):f.css("overflow","hidden");n!==o&&(n=o,f.height(o),f.trigger&&f.trigger("resize"))},p=_.throttle(o,500);f.bind("keyup",function(a){a.keyCode===13?o():p()}).bind("paste",o).css("overflow","hidden");o()})}})($);var md5=function(){function l(c,e,a,f,g,l){c=m(m(e,c),m(f,l));return m(c<<g|c>>>32-g,a)}function g(c,e,a,f,g,m,u){return l(e&a|~e&f,c,e,g,m,u)}function c(c,e,a,f,g,m,u){return l(e&f|a&~f,c,e,g,m,u)}function f(c,e,a,f,g,m,u){return l(a^(e|~f),c,e,g,m,u)}function m(c,e){var a=(c&65535)+(e&65535);return(c>>16)+(e>>16)+(a>>16)<<16|a&65535}return function(h){for(var e="",a=-1,n,o;++a<h.length;)n=h.charCodeAt(a),o=a+1<h.length?h.charCodeAt(a+1):0,55296<=n&&n<=56319&&56320<=o&&o<=57343&&(n=65536+((n&1023)<<
10)+(o&1023),a++),n<=127?e+=String.fromCharCode(n):n<=2047?e+=String.fromCharCode(192|n>>>6&31,128|n&63):n<=65535?e+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|n&63):n<=2097151&&(e+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|n&63));h=Array(e.length>>2);for(a=0;a<h.length;a++)h[a]=0;for(a=0;a<e.length*8;a+=8)h[a>>5]|=(e.charCodeAt(a/8)&255)<<a%32;e=e.length*8;h[e>>5]|=128<<e%32;h[(e+64>>>9<<4)+14]=e;e=1732584193;a=-271733879;n=-1732584194;o=271733878;for(var p=0;p<h.length;p+=
16){var u=e,s=a,x=n,y=o,e=g(e,a,n,o,h[p+0],7,-680876936);o=g(o,e,a,n,h[p+1],12,-389564586);n=g(n,o,e,a,h[p+2],17,606105819);a=g(a,n,o,e,h[p+3],22,-1044525330);e=g(e,a,n,o,h[p+4],7,-176418897);o=g(o,e,a,n,h[p+5],12,1200080426);n=g(n,o,e,a,h[p+6],17,-1473231341);a=g(a,n,o,e,h[p+7],22,-45705983);e=g(e,a,n,o,h[p+8],7,1770035416);o=g(o,e,a,n,h[p+9],12,-1958414417);n=g(n,o,e,a,h[p+10],17,-42063);a=g(a,n,o,e,h[p+11],22,-1990404162);e=g(e,a,n,o,h[p+12],7,1804603682);o=g(o,e,a,n,h[p+13],12,-40341101);n=g(n,
o,e,a,h[p+14],17,-1502002290);a=g(a,n,o,e,h[p+15],22,1236535329);e=c(e,a,n,o,h[p+1],5,-165796510);o=c(o,e,a,n,h[p+6],9,-1069501632);n=c(n,o,e,a,h[p+11],14,643717713);a=c(a,n,o,e,h[p+0],20,-373897302);e=c(e,a,n,o,h[p+5],5,-701558691);o=c(o,e,a,n,h[p+10],9,38016083);n=c(n,o,e,a,h[p+15],14,-660478335);a=c(a,n,o,e,h[p+4],20,-405537848);e=c(e,a,n,o,h[p+9],5,568446438);o=c(o,e,a,n,h[p+14],9,-1019803690);n=c(n,o,e,a,h[p+3],14,-187363961);a=c(a,n,o,e,h[p+8],20,1163531501);e=c(e,a,n,o,h[p+13],5,-1444681467);
o=c(o,e,a,n,h[p+2],9,-51403784);n=c(n,o,e,a,h[p+7],14,1735328473);a=c(a,n,o,e,h[p+12],20,-1926607734);e=l(a^n^o,e,a,h[p+5],4,-378558);o=l(e^a^n,o,e,h[p+8],11,-2022574463);n=l(o^e^a,n,o,h[p+11],16,1839030562);a=l(n^o^e,a,n,h[p+14],23,-35309556);e=l(a^n^o,e,a,h[p+1],4,-1530992060);o=l(e^a^n,o,e,h[p+4],11,1272893353);n=l(o^e^a,n,o,h[p+7],16,-155497632);a=l(n^o^e,a,n,h[p+10],23,-1094730640);e=l(a^n^o,e,a,h[p+13],4,681279174);o=l(e^a^n,o,e,h[p+0],11,-358537222);n=l(o^e^a,n,o,h[p+3],16,-722521979);a=l(n^
o^e,a,n,h[p+6],23,76029189);e=l(a^n^o,e,a,h[p+9],4,-640364487);o=l(e^a^n,o,e,h[p+12],11,-421815835);n=l(o^e^a,n,o,h[p+15],16,530742520);a=l(n^o^e,a,n,h[p+2],23,-995338651);e=f(e,a,n,o,h[p+0],6,-198630844);o=f(o,e,a,n,h[p+7],10,1126891415);n=f(n,o,e,a,h[p+14],15,-1416354905);a=f(a,n,o,e,h[p+5],21,-57434055);e=f(e,a,n,o,h[p+12],6,1700485571);o=f(o,e,a,n,h[p+3],10,-1894986606);n=f(n,o,e,a,h[p+10],15,-1051523);a=f(a,n,o,e,h[p+1],21,-2054922799);e=f(e,a,n,o,h[p+8],6,1873313359);o=f(o,e,a,n,h[p+15],10,
-30611744);n=f(n,o,e,a,h[p+6],15,-1560198380);a=f(a,n,o,e,h[p+13],21,1309151649);e=f(e,a,n,o,h[p+4],6,-145523070);o=f(o,e,a,n,h[p+11],10,-1120210379);n=f(n,o,e,a,h[p+2],15,718787259);a=f(a,n,o,e,h[p+9],21,-343485551);e=m(e,u);a=m(a,s);n=m(n,x);o=m(o,y)}h=[e,a,n,o];e="";for(a=0;a<h.length*32;a+=8)e+=String.fromCharCode(h[a>>5]>>>a%32&255);h=e;e="";for(n=0;n<h.length;n++)a=h.charCodeAt(n),e+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(a&15);return e}}();function parseUri(l){for(var g=parseUri.options,l=g.parser[g.strictMode?"strict":"loose"].exec(l),c={},f=14;f--;)c[g.key[f]]=l[f]||"";c[g.q.name]={};c[g.key[12]].replace(g.q.parser,function(f,h,e){h&&(c[g.q.name][h]=e)});return c}
parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
(function(){var l=this,g;g=l.Raven={};g.VERSION="0.4";g.loaded=!1;g.options={secretKey:void 0,publicKey:void 0,servers:[],projectId:1,logger:"javascript",site:void 0,signatureUrl:void 0,fetchHeaders:!1,testMode:!1};g.funcNameRE=/function\s*([\w\-$]+)?\s*\(/i;g.config=function(c){if(typeof c==="string")if(c.indexOf("http")===0)c=g.parseDSN(c);else throw"Base64 encoded config is no longer supported - use DSN";_.each(c,function(c,m){g.options[m]=c})};g.parseDSN=function(c){var c=parseUri(c),f=c.path.lastIndexOf("/"),
g;f===-1?(f=c.path.substr(1),g=""):(g=c.path.substr(1,f),f=c.path.substr(f+1));return{servers:[c.protocol+"://"+c.host+":"+c.port+"/"+g+"api/"+f+"/store/"],publicKey:c.user,secretKey:c.password,projectId:f}};g.getHeaders=function(){var c={};g.options.fetchHeaders&&(c=$.ajax({method:"HEAD",url:l.location,async:!1}).getAllResponseHeaders());c.Referer=document.referrer;c["User-Agent"]=navigator.userAgent;return c};g.parseHeaders=function(c){var f={};_.each(c.split("\n"),function(c){var g=c.slice(0,c.indexOf(":")),
c=c.slice(c.indexOf(":")+2);f[g]=c});return f};g.getSignature=function(c,f,m){g.options.signatureUrl?$.ajax({url:g.options.signatureUrl,method:"post",data:{message:c,timestamp:f},success:function(c){m(c.signature)}}):m()};g.getAuthHeader=function(c,f){var m="Sentry sentry_version=2.0, ";m+="sentry_timestamp="+f+", ";m+="sentry_client=raven-js/"+g.VERSION;g.options.publicKey&&(m+=", sentry_key="+g.options.publicKey);c&&(m+=", sentry_signature="+c);return m};g.captureException=function(c){var f,m,h;
if(c.line)f=c.line;else if(c.lineNumber)f=c.lineNumber;if(c.sourceURL)h=c.sourceURL;else if(c.fileName)h=c.fileName;m=c.arguments&&c.stack?this.chromeTraceback(c):c.stack?c.stack.indexOf("@")==-1?this.chromeTraceback(c):this.firefoxTraceback(c):[{filename:h,lineno:f}];g.process(c,h,f,m)};g.captureMessage=function(c){g.process(c)};g.trimString=function(c){return c.replace(/^\s+|\s+$/g,"")};g.chromeTraceback=function(c){var f,m,h,e,a=[],c=c.stack.split("\n");_.each(c.slice(1),function(c){f=g.trimString(c).slice(3);
f!="unknown source"&&(f=f.split(" "),f.length>2?(m=f[0],h=f.slice(1).join(" "),e="(unknown)"):f.length==2?(m=f[0],h=f[1]):(m="(unknown)",h=f[0]),h&&h!="(unknown source)"&&(h=h.slice(0,1)=="("?h.slice(1,-1).split(":"):h.split(":"),e=h.slice(-2)[0],h=h.slice(0,-2).join(":")),a.push({"function":m,filename:h,lineno:e}))});return a};g.firefoxTraceback=function(c){var f,g,h,e,a,l=[],c=c.stack.split("\n");_.each(c,function(c){c&&(f=c.split("@"),f[0]?(g=f[0].split("("),h=g[1]!=")"?g[1].slice(0,-1).split(","):
void 0,g=g[0]?g[0]:"(unknown)"):g="(unknown)",e=f[1].split(":"),a=e.slice(-1)[0],e=e.slice(0,-1).join(":"),l.push({"function":g,filename:e,lineno:a,vars:{arguments:h}}))});return l};g.otherTraceback=function(c){for(var f,g,h=[];c&&h.length<9;)f=c.name||(this.funcNameRE.test(c.toString())?RegExp.$1||"<anonymous>":"<anonymous>"),g=c.arguments?this.stringifyArguments(c.arguments):void 0,h.push({filename:"(unknown source)",lineno:"(unknown)","function":f,post_context:c.toString().split("\n"),vars:{arguments:g}}),
c=c.caller;return h};g.stringifyArguments=function(c){var f,g=this,h=[];_.each(c,function(c){c===void 0?h.push("undefined"):c===null?h.push("null"):c instanceof Array?h.push(g.stringifyArguments(c)):c.constructor?(f=c.constructor.name||(g.funcNameRE.test(c.constructor.toString())?RegExp.$1||"<unknown>":"<unknown>"),f=="String"?h.push('"'+c+'"'):f=="Number"||f=="Date"?h.push(c):f=="Boolean"?h.push(c?"true":"false"):h.push(f)):h.push("<unknown>")});return h};g.process=function(c,f,m,h,e){var a,n,o,
p;a=l.location.origin+l.location.pathname;var u=l.location.search.slice(1);if(typeof c==="object")p=c.name,c=c.message;h?(n={frames:h},f=f||h[0].filename):f&&(n={frames:[{filename:f,lineno:m}]});c={message:m?c+" at "+m:c,culprit:f,"sentry.interfaces.Stacktrace":n,"sentry.interfaces.Exception":{type:p,value:c},project:g.options.projectId,logger:g.options.logger,site:g.options.site};g.options.testMode||(c["sentry.interfaces.Http"]={url:a,querystring:u,headers:g.getHeaders()});e=e||(new Date).getTime();
o=JSON.stringify(c);g.getSignature(o,e,function(a){var c=g.getAuthHeader(a,e);_.each(g.options.servers,function(a){$.ajax({method:"POST",url:a,data:o,headers:{"X-Sentry-Auth":c,Authentication:c}})})})}}).call(this);(function(l){function g(a,b){return function(c){return n(a.call(this,c),b)}}function c(a){return function(b){return this.lang().ordinal(a.call(this,b))}}function f(){}function m(a){e(this,a)}function h(b){var c=this._data={},d=b.years||b.year||b.y||0,e=b.months||b.month||b.M||0,f=b.weeks||b.week||b.w||0,g=b.days||b.day||b.d||0,h=b.hours||b.hour||b.h||0,i=b.minutes||b.minute||b.m||0,j=b.seconds||b.second||b.s||0,b=b.milliseconds||b.millisecond||b.ms||0;this._milliseconds=b+j*1E3+i*6E4+h*36E5;this._days=
g+f*7;this._months=e+d*12;c.milliseconds=b%1E3;j+=a(b/1E3);c.seconds=j%60;i+=a(j/60);c.minutes=i%60;h+=a(i/60);c.hours=h%24;g+=a(h/24);g+=f*7;c.days=g%30;e+=a(g/30);c.months=e%12;d+=a(e/12);c.years=d}function e(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function a(b){return b<0?Math.ceil(b):Math.floor(b)}function n(b,a){for(var c=b+"";c.length<a;)c="0"+c;return c}function o(b,a,c){var d=a._milliseconds,e=a._days,a=a._months;d&&b._d.setTime(+b+d*c);e&&b.date(b.date()+e*c);a&&(d=
b.date(),b.date(1).month(b.month()+a*c).date(Math.min(d,b.daysInMonth())))}function p(b,a){var c=Math.min(b.length,a.length),d=Math.abs(b.length-a.length),e=0,f;for(f=0;f<c;f++)~~b[f]!==~~a[f]&&e++;return e+d}function u(b){if(!b)return r.fn._lang;!F[b]&&I&&require("./lang/"+b);return F[b]}function s(b){if(b.match(/\[.*\]/))return b.replace(/^\[|\]$/g,"");return b.replace(/\\/g,"")}function x(b){var a=b.match(K),c,d;c=0;for(d=a.length;c<d;c++)a[c]=S[a[c]]?S[a[c]]:s(a[c]);return function(e){var f="";
for(c=0;c<d;c++)f+=typeof a[c].call==="function"?a[c].call(e,b):a[c];return f}}function y(b,a){function c(a){return b.lang().longDateFormat(a)||a}for(var d=5;d--&&L.test(a);)a=a.replace(L,c);V[a]||(V[a]=x(a));return V[a](b)}function t(a){switch(a){case "DDDD":return q;case "YYYY":return b;case "YYYYY":return j;case "S":case "SS":case "SSS":case "DDD":return i;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return Q;case "X":return W;case "Z":case "ZZ":return N;case "T":return O;
case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return d;default:return RegExp(a.replace("\\",""))}}function E(b){var a,c=[];if(!b._d){for(a=0;a<7;a++)b._a[a]=c[a]=b._a[a]==null?a===2?1:0:b._a[a];c[3]+=b._tzh||0;c[4]+=b._tzm||0;a=new Date(0);b._useUTC?(a.setUTCFullYear(c[0],c[1],c[2]),a.setUTCHours(c[3],c[4],c[5],c[6])):(a.setFullYear(c[0],c[1],c[2]),a.setHours(c[3],c[4],c[5],c[6]));b._d=a}}function z(b){var a=b._f.match(K),
c=b._i,d,e;b._a=[];for(d=0;d<a.length;d++)if((e=(t(a[d]).exec(c)||[])[0])&&(c=c.slice(c.indexOf(e)+e.length)),S[a[d]]){var f=b,g=void 0,h=f._a;switch(a[d]){case "M":case "MM":h[1]=e==null?0:~~e-1;break;case "MMM":case "MMMM":g=u(f._l).monthsParse(e);g!=null?h[1]=g:f._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":e!=null&&(h[2]=~~e);break;case "YY":h[0]=~~e+(~~e>68?1900:2E3);break;case "YYYY":case "YYYYY":h[0]=~~e;break;case "a":case "A":f._isPm=(e+"").toLowerCase()==="pm";break;case "H":case "HH":case "h":case "hh":h[3]=
~~e;break;case "m":case "mm":h[4]=~~e;break;case "s":case "ss":h[5]=~~e;break;case "S":case "SS":case "SSS":h[6]=~~(("0."+e)*1E3);break;case "X":f._d=new Date(parseFloat(e)*1E3);break;case "Z":case "ZZ":f._useUTC=!0;if((g=(e+"").match(M))&&g[1])f._tzh=~~g[1];if(g&&g[2])f._tzm=~~g[2];if(g&&g[0]==="+")f._tzh=-f._tzh,f._tzm=-f._tzm}if(e==null)f._isValid=!1}b._isPm&&b._a[3]<12&&(b._a[3]+=12);b._isPm===!1&&b._a[3]===12&&(b._a[3]=0);E(b)}function v(b,a,c,d,e){return e.relativeTime(a||1,!!c,b,d)}function D(b,
a,c){a=c-a;c-=b.day();c>a&&(c-=7);c<a-7&&(c+=7);return Math.ceil(r(b).add("d",c).dayOfYear()/7)}function G(b){var a=b._i,c=b._f;if(a===null||a==="")return null;if(typeof a==="string")b._i=a=u().preparse(a);if(r.isMoment(a))b=e({},a),b._d=new Date(+a._d);else if(c)if(Object.prototype.toString.call(c)==="[object Array]"){for(var a=b,d,f,g=99;a._f.length;){d=e({},a);d._f=a._f.pop();z(d);c=new m(d);if(c.isValid()){f=c;break}d=p(d._a,c.toArray());d<g&&(g=d,f=c)}e(a,f)}else z(b);else if(f=b,a=f._i,c=J.exec(a),
a===l)f._d=new Date;else if(c)f._d=new Date(+c[1]);else if(typeof a==="string")if(c=f._i,U.exec(c)){f._f="YYYY-MM-DDT";for(a=0;a<4;a++)if(T[a][1].exec(c)){f._f+=T[a][0];break}N.exec(c)&&(f._f+=" Z");z(f)}else f._d=new Date(c);else Object.prototype.toString.call(a)==="[object Array]"?(f._a=a.slice(0),E(f)):f._d=a instanceof Date?new Date(+a):new Date(a);return new m(b)}function k(a,b){r.fn[a]=r.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return a!=null?(this._d["set"+c+b](a),this):this._d["get"+
c+b]()}}function C(a){r.duration.fn[a]=function(){return this._data[a]}}function H(a,b){r.duration.fn["as"+a]=function(){return+this/b}}for(var r,B=Math.round,A,F={},I=typeof module!=="undefined"&&module.exports,J=/^\/?Date\((\-?\d+)/i,K=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,d=/\d\d?/,i=/\d{1,3}/,q=/\d{3}/,b=/\d{1,4}/,j=/[+\-]?\d{1,6}/,Q=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,
N=/Z|[\+\-]\d\d:?\d\d/i,O=/T/i,W=/[\+\-]?\d+(\.\d{1,3})?/,U=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,T=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],M=/([\+\-]|\d\d)/gi,P="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),R={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},V={},X="DDD w W M D d".split(" "),Y="M D H h m s w W".split(" "),
S={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return n(this.year()%
100,2)},YYYY:function(){return n(this.year(),4)},YYYYY:function(){return n(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return n(~~(this.milliseconds()/10),2)},SSS:function(){return n(this.milliseconds(),
3)},Z:function(){var a=-this.zone(),b="+";a<0&&(a=-a,b="-");return b+n(~~(a/60),2)+":"+n(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";a<0&&(a=-a,b="-");return b+n(~~(10*a/6),4)},X:function(){return this.unix()}};X.length;)A=X.pop(),S[A+"o"]=c(S[A]);for(;Y.length;)A=Y.pop(),S[A+A]=g(S[A],2);S.DDDD=g(S.DDD,3);f.prototype={set:function(a){var b,c;for(c in a)b=a[c],typeof b==="function"?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;if(!this._monthsParse)this._monthsParse=[];for(b=0;b<12;b++)if(this._monthsParse[b]||(c=r([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return typeof c==="function"?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",
dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return typeof e==="function"?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return typeof c==="function"?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return D(a,this._week.dow,this._week.doy)},
_week:{dow:0,doy:6}};r=function(a,b,c){return G({_i:a,_f:b,_l:c,_isUTC:!1})};r.utc=function(a,b,c){return G({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b})};r.unix=function(a){return r(a*1E3)};r.duration=function(a,b){var c=r.isDuration(a),d=typeof a==="number",e=c?a._data:d?{}:a;if(d)b?e[b]=a:e.milliseconds=a;d=new h(e);if(c&&a.hasOwnProperty("_lang"))d._lang=a._lang;return d};r.version="2.0.0";r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";r.lang=function(a,b){if(!a)return r.fn._lang._abbr;b?(b.abbr=a,F[a]||(F[a]=
new f),F[a].set(b)):F[a]||u(a);r.duration.fn._lang=r.fn._lang=u(a)};r.langData=function(a){if(a&&a._lang&&a._lang._abbr)a=a._lang._abbr;return u(a)};r.isMoment=function(a){return a instanceof m};r.isDuration=function(a){return a instanceof h};r.fn=m.prototype={clone:function(){return r(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return r.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){if(this._isValid==null)this._isValid=this._a?!p(this._a,(this._isUTC?r.utc(this._a):r(this._a)).toArray()):!isNaN(this._d.getTime());return!!this._isValid},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){a=y(this,a||r.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c=typeof a===
"string"?r.duration(+b,a):r.duration(a,b);o(this,c,1);return this},subtract:function(a,b){var c;c=typeof a==="string"?r.duration(+b,a):r.duration(a,b);o(this,c,-1);return this},diff:function(b,c,d){var b=this._isUTC?r(b).utc():r(b).local(),e=(this.zone()-b.zone())*6E4,f;c&&(c=c.replace(/s$/,""));c==="year"||c==="month"?(e=(this.daysInMonth()+b.daysInMonth())*432E5,f=(this.year()-b.year())*12+(this.month()-b.month()),f+=(this-r(this).startOf("month")-(b-r(b).startOf("month")))/e,c==="year"&&(f/=12)):
(e=this-b-e,f=c==="second"?e/1E3:c==="minute"?e/6E4:c==="hour"?e/36E5:c==="day"?e/864E5:c==="week"?e/6048E5:e);return d?f:a(f)},from:function(a,b){return r.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(r(),a)},calendar:function(){var a=this.diff(r().startOf("day"),"days",!0);return this.format(this.lang().calendar(a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse",this))},isLeapYear:function(){var a=
this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<r([this.year()]).zone()||this.zone()<r([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return a==null?b:this.add({d:a-b})},startOf:function(a){a=a.replace(/s$/,"");switch(a){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}a==="week"&&
this.day(0);return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(a,b){b=typeof b!=="undefined"?b:"millisecond";return+this.clone().startOf(b)>+r(a).startOf(b)},isBefore:function(a,b){b=typeof b!=="undefined"?b:"millisecond";return+this.clone().startOf(b)<+r(a).startOf(b)},isSame:function(a,b){b=typeof b!=="undefined"?b:"millisecond";return+this.clone().startOf(b)===+r(a).startOf(b)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},
daysInMonth:function(){return r.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=B((r(this).startOf("day")-r(this).startOf("year"))/864E5)+1;return a==null?b:this.add("d",a-b)},isoWeek:function(a){var b=D(this,1,4);return a==null?b:this.add("d",(a-b)*7)},week:function(a){var b=this.lang().week(this);return a==null?b:this.add("d",(a-b)*7)},lang:function(a){return a===l?this._lang:(this._lang=u(a),this)}};for(A=0;A<P.length;A++)k(P[A].toLowerCase().replace(/s$/,""),P[A]);k("year",
"FullYear");r.fn.days=r.fn.day;r.fn.weeks=r.fn.week;r.fn.isoWeeks=r.fn.isoWeek;r.duration.fn=h.prototype={weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864E5+this._months*2592E6},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=B(Math.abs(b)/1E3),f=B(e/60),g=B(f/60),h=B(g/24),i=B(h/365),e=e<45&&["s",e]||f===1&&["m"]||f<45&&["mm",f]||g===1&&["h"]||g<22&&["hh",g]||h===1&&["d"]||h<=25&&["dd",h]||h<=45&&["M"]||h<345&&["MM",B(h/30)]||i===1&&
["y"]||["yy",i];e[2]=c;e[3]=b>0;e[4]=d;c=v.apply({},e);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},lang:r.fn.lang};for(A in R)R.hasOwnProperty(A)&&(H(A,R[A]),C(A.toLowerCase()));H("Weeks",6048E5);r.lang("en",{ordinal:function(a){var b=a%10;return a+(~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th")}});if(I)module.exports=r;this.moment=r;typeof define==="function"&&define.amd&&define("moment",[],function(){return r})}).call(this);(function(l){var g=function(c,f,g){this.store=c;this.max=f||10;this.queueKey=g||"__queue";this.getQueue()||this.setQueue([])};g.prototype.setItem=function(c,f){var g=this.getQueue()||this.setQueue([]);g.length===this.max&&this.store.removeItem(g.shift());this.store.setItem(c,f);g.push(c);this.setQueue(g)};g.prototype.getItem=function(c){return this.store.getItem(c)};g.prototype.removeItem=function(c){this.store.removeItem(c);for(var f=this.getQueue()||[],g=0;g<f.length;g++)if(f[g]===c){f.splice(g,
1);break}this.setQueue(f)};g.prototype.clear=function(){this.store.clear();this.setQueue([])};g.prototype.getQueue=function(){var c=this.store.getItem(this.queueKey);return c?JSON.parse(c):null};g.prototype.setQueue=function(c){this.store.setItem(this.queueKey,JSON.stringify(c));return c};l.QueuedStorage=g})(this);(function(l){function g(a){return a.replace(h," ")}function c(e,f,h){var l="",m=[],n,t,E,z;typeof h!=="string"&&(h="\n\n");for(z=0;z<e.length;++z)t=e[z],n=t.nodeName.toLowerCase(),t.nodeType===1?(E=f&&f(t))?l+=E:a.hasOwnProperty(n)?(l&&m.push(l),l=c(t.childNodes,f,h)):l+=n==="br"?"\n":c(t.childNodes,f,h):t.nodeType===3&&(l+=g(t.nodeValue));m.push(l);return m.join(h)}function f(a,c,e){if(a.addEventListener)a.addEventListener(c,e,!1);else if(a.attachEvent)a.attachEvent("on"+c,e);else throw Error("No event support.");
}for(var m=l.document,h=RegExp(String.fromCharCode(160),"gi"),e="h1 h2 h3 h4 h5 h6 p pre blockquote address ul ol dir menu li dl div form".split(" "),a={},n=0,n=0;n<e.length;n++)a[e[n]]=!0;e=function(a,c,e){var g=this;if(!a||!a.contentEditable)throw"First argument must be contentEditable";this.elem=a;if(this.emulateTextarea=a.getAttribute("plaintext-only")||c)this.pasteHandler=function(){var a=g.plainTextReformat;a.timeout&&clearTimeout(a.timeout);a.timeout=setTimeout(function(){a.timeout=null;a.call(g)},
0)},f(a,"paste",this.pasteHandler);for(var h in e)e.hasOwnProperty(h)&&(this[h]=e[h])};e.prototype={insertHTML:function(a){if(m.all){var c=m.selection.createRange();c.pasteHTML(a);c.collapse(!1);return c.select()}else return m.execCommand("insertHTML",!1,a)},insertNode:function(a){var c,e;l.getSelection?(c=l.getSelection(),c.getRangeAt&&c.rangeCount&&(e=c.getRangeAt(0),e.deleteContents(),e.insertNode(a),e.collapse(!1),c.removeAllRanges(),c.addRange(e))):m.selection&&m.selection.createRange&&(e=m.selection.createRange(),
a=a.nodeType===3?a.data:a.outerHTML,e.pasteHTML(a),e.collapse(!1))},getTextNodes:function(a){var c=this.elem;if(a&&a.nodeType)a=[a];else if(!a)a=c.childNodes;for(var c=[],e=0,f;e<a.length;++e)if(f=a[e])switch(f.nodeType){case 1:c=c.concat(this.getTextNodes(f.childNodes));break;case 3:/^\n\s+/.test(f.nodeValue)||c.push(f)}return c},text:function(a){var e=this.elem,f,g;try{f=Array.prototype.slice.call(e.childNodes)}catch(h){f=[];for(g=0;g<e.childNodes.length;++g)f.push(e.childNodes[g])}return c(f,a,
this.emulateTextarea&&"\n").replace(/^\s+|\s+$/g,"")},setText:function(a){var a=a||"",c=m.createDocumentFragment(),a=this.emulateTextarea?[a.replace(/(?:\r\n|\r|\n){2,}/g,"\n\n")]:a.split(/(?:\r\n|\r|\n){2,}/),e,f=a&&a.length,g;for(e=0;e<f;e++)g=a[e],g=this.createParagraph(g),c.appendChild(g);c.lastChild.appendChild(m.createElement("br"));this.elem.innerHTML="";this.elem.appendChild(c);(c=l.getSelection&&l.getSelection())&&c.anchorNode===this.elem&&c.modify&&c.modify("move","forward","line")},createParagraph:function(a){var c=
m.createElement("p"),e,f,g,h,l;f=a.split(/\r\n|\r|\n/);a=0;for(g=f.length;a<g;a++){e=f[a];l=this.getHtmlElements(e);e=0;for(h=l.length;e<h;e++)c.appendChild(l[e]);c.appendChild(m.createElement("br"))}c.lastChild&&c.removeChild(c.lastChild);return c},getHtmlElements:function(a){return[m.createTextNode(a)]},plainTextReformat:function(){if(!(this.elem.getElementsByTagName("p").length<=1)){this.emulateTextarea=!1;var a=this.text();this.emulateTextarea=!0;this.setText(a)}},removeNode:function(a){var c,
e;l.getSelection?(c=a.previousSibling,a.parentNode.removeChild(a),a=l.getSelection(),e=m.createRange(),c&&(e.setStart(c,c.length),e.setEnd(c,c.length)),a.addRange(e)):a.parentNode.removeChild(a)},selectedTextNode:function(){var a=this.elem,c;if(l.getSelection)return a=l.getSelection(),a.anchorNode;else if(m.selection.createRange){for(c=m.selection.createRange().duplicate();c.moveStart("character",-1E3)===-1E3;);c=c.text;var e,f,h,n,t,E;for(t=0;t<a.childNodes.length;++t){e=a.childNodes[t];f=this.getTextNodes(e);
for(E=0;E<f.length;++E)if(e=f[E],n=g(e.nodeValue),c.indexOf(n)>-1)h=e,c=c.replace(n,"");else if(n.indexOf(c)>-1)return e}return h}},selectedTextNodeOffset:function(a){var c;if(l.getSelection){if((a=l.getSelection())&&a.anchorOffset)c=a.anchorOffset}else if(a&&m.selection.createRange){c=m.selection.createRange();for(var a=g(a.nodeValue),e=c.duplicate(),e=e.parentElement(),f=0;c.moveStart("character",-1)!==0&&++f;){if(a.indexOf(g(c.text))===0||e!==c.parentElement())break;e=c.duplicate();e=e.parentElement()}c=
f}return isNaN(c)?0:c},selectNodeText:function(a,c,e){var f=this.elem,h;if(l.getSelection)return f=l.getSelection(),f.removeAllRanges(),h=m.createRange(),h.setStart(a,c),h.setEnd(a,e),f.addRange(h),f;else if(m.selection.createRange){h=m.selection.createRange();a=g(a.nodeValue);if(h.parentElement().nodeName.toLowerCase()==="body"){f.focus();for(h=m.selection.createRange();h.moveStart("character",-1E3)===-1E3;);for(;h.moveEnd("character",1E3)===1E3;);f=g(h.text).indexOf(a);f>0&&h.moveStart("character",
f+2);h.collapse()}for(;h.moveStart("character",-1)===-1&&a.indexOf(g(h.text))!==0;);for(;h.moveEnd("character",1)===1&&a!==g(h.text););h.moveStart("character",c);h.moveEnd("character",-1*(e-c-h.text.length));h.select();return h}}};e.normalizeSpace=g;l.Editable=e})(this);